(this.webpackJsonpfluentes_machine_app=this.webpackJsonpfluentes_machine_app||[]).push([[0],{156:function(e){e.exports=JSON.parse('{"operationsList":[{"id":0,"o_name":"Operation1: Drilling","o_desc":"Lorem Ipsum is simply dummy text of the printing and typesetting industry.","createdAt":"12/10/2020","updatedAt":"12/23/2020","hoursCommited":230,"hoursLeft":120,"status":"In Progress"},{"id":1,"o_name":"Operation2: Drilling","o_desc":"Lorem Ipsum is simply dummy text of the printing and typesetting industry.","createdAt":"12/10/2020","updatedAt":"12/23/2020","hoursCommited":230,"hoursLeft":120,"status":"In Progress"}]}')},157:function(e){e.exports=JSON.parse('{"totalItems":1,"projects":[{"id":2,"p_name":"project name","p_desc":"description of project","hours_commited":12,"hours_left":4,"start_date":"2021-03-03T00:00:00.000Z","end_date":"2021-03-09T00:00:00.000Z","p_status":"IN PROGRESS","createdAt":"2021-04-05T08:45:17.000Z","updatedAt":"2021-04-05T08:45:17.000Z"}],"totalPages":1,"currentPage":0}')},347:function(e){e.exports=JSON.parse("{}")},351:function(e,t,s){},353:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s(14),c=s(15),i=s(17),l=s(16),r=s(3),o=s.n(r),d=s(30),h=s.n(d),u=s(35),j=s(38),b=s(375),m=s(376),p=s(372),O=s(373),x=s(374),v=s(367),f=s(368),g=s(369),N=s(370),C=s(90),k="Something went wrong. Please try again.",y="This is not a valid email",I="All fields are required!",w="Select one item",S="Are you sure you want to delete ",P=6,q=2,_=s(120);var A=function(e){var t=e.alertConfig;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(_.a,{variant:t.variant,children:[t.heading&&Object(a.jsx)(_.a.Heading,{children:t.heading}),Object(a.jsx)("p",{children:t.message})]})})},E=s(72),D=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(){var e;return Object(n.a)(this,s),(e=t.call(this)).forgotPassword=function(){Object(C.isEmail)(e.state.Email)?e.props.popupClose():e.setState((function(e){return{alertConfig:Object(u.a)(Object(u.a)({},e.alertConfig),{},{message:y}),showAlert:!0}}))},e.state={Email:"",showAlert:!1,alertConfig:{variant:"danger"}},e.Email=e.Email.bind(Object(j.a)(e)),e}return Object(c.a)(s,[{key:"Email",value:function(e){this.setState({Email:e.target.value})}},{key:"render",value:function(){return Object(a.jsx)(o.a.Fragment,{children:Object(a.jsxs)(v.a,{children:[Object(a.jsx)(f.a,{className:"mb-3",children:Object(a.jsx)(g.a,{type:"text",onChange:this.Email,placeholder:"name@example.com"})}),Object(a.jsx)(N.a,{color:"success",onClick:this.forgotPassword,children:"Submit"}),this.state.showAlert&&Object(a.jsx)(A,{alertConfig:this.state.alertConfig,showAlert:this.state.showAlert})]})})}}]),s}(r.Component),L=s(19),M=s.n(L),Q="https://funetus-api.herokuapp.com/admin/";M.a.interceptors.request.use((function(e){var t=JSON.parse(localStorage.getItem("user"));return t&&(e.headers.Authorization="Bearer "+t.token),e.headers["Content-Type"]="application/json",e}),(function(e){Promise.reject(e)})),M.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var T=new(function(){function e(){Object(n.a)(this,e)}return Object(c.a)(e,[{key:"getAllQuotes",value:function(){var e={method:"get",url:Q+"quotes"};return M()(e).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"getSingleQuote",value:function(e){var t={method:"get",url:Q+"quotes/"+e};return M()(t).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"deleteQuote",value:function(e){var t={method:"DELETE",url:Q+"quotes/"+e};return M()(t).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"changeStatus",value:function(e,t){var s={method:"post",url:Q+"/quotes/"+e+"/changeStatus",data:t};return M()(s).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"tagQuote",value:function(e){var t={method:"PUT",url:Q+"quotes/tagQuotes",data:e};return M()(t).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"getAllWorkers",value:function(){var e={method:"get",url:Q+"workers"};return M()(e).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"createWorker",value:function(e){var t={method:"post",url:Q+"workers",data:e};return M()(t).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"deleteWorker",value:function(e){var t={method:"DELETE",url:Q+"workers/"+e};return M()(t).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"editWorker",value:function(e,t){var s={method:"put",url:Q+"workers/"+e,data:t};return M()(s).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"getAllOperations",value:function(){var e={method:"get",url:Q+"operation"};return M()(e).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"getOperationById",value:function(e){var t={method:"get",url:Q+"operation/"+e};return M()(t).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"deleteOperation",value:function(e){var t={method:"DELETE",url:Q+"operation/"+e};return M()(t).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"createOperation",value:function(e){var t={method:"post",url:Q+"operation",data:e};return console.log(t),M()(t).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"editOperation",value:function(e,t){var s={method:"put",url:Q+"operation/"+e,data:t};return M()(s).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"getAllInventory",value:function(){var e={method:"get",url:Q+"inventory"};return M()(e).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"createInventory",value:function(e){var t={method:"post",url:Q+"inventory",data:e};return console.log(t),M()(t).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"editInventory",value:function(e,t){var s={method:"put",url:Q+"inventory/"+e,data:t};return M()(s).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"deleteInventory",value:function(e){var t={method:"DELETE",url:Q+"inventory/"+e};return M()(t).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"getAllProjects",value:function(){var e={method:"get",url:Q+"project"};return M()(e).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"deleteProject",value:function(e){var t={method:"DELETE",url:Q+"project/"+e};return M()(t).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"editProject",value:function(e,t){var s={method:"put",url:Q+"project/"+e,data:t};return M()(s).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"getAllCustomers",value:function(){var e={method:"get",url:Q+"customer"};return M()(e).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"deleteCustomer",value:function(e){var t={method:"DELETE",url:Q+"customer/"+e};return M()(t).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"editCustomer",value:function(e,t){var s={method:"put",url:Q+"customer/"+e,data:t};return M()(s).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"getAllInspection",value:function(){var e={method:"get",url:Q+"inspection"};return M()(e).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"createInspection",value:function(e){var t={method:"post",url:Q+"inspection",data:e};return console.log(t),M()(t).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"editInspection",value:function(e,t){var s={method:"put",url:Q+"inspection/"+e,data:t};return M()(s).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"deleteInspection",value:function(e){var t={method:"DELETE",url:Q+"Inspection/"+e};return M()(t).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"changeProjectStatus",value:function(e,t){var s={method:"post",url:Q+"project/changeStatus/"+e,data:t};return M()(s).then((function(e){return console.log(e),e})).catch((function(e){console.log(e)}))}}]),e}()),W=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(){var e;return Object(n.a)(this,s),(e=t.call(this)).state={listitems:[],searchValue:""},e.getAllOperationList(),e}return Object(c.a)(s,[{key:"getAllOperationList",value:function(){var e=this;T.getAllOperations().then((function(t){console.log(t),e.setState({listitems:t.data.rows})}),(function(e){console.log("Error")}))}},{key:"onTagOperationSelectedSave",value:function(){this.props.popupClose(this.state.selectedItem)}},{key:"onOperationSelected",value:function(e){this.setState({selectedItem:e})}},{key:"render",value:function(){var e=this;return Object(a.jsx)(o.a.Fragment,{children:Object(a.jsx)("div",{className:"admin-list-page",children:Object(a.jsxs)("div",{className:"quote-req-list",children:[Object(a.jsxs)("div",{className:"row mt-1 quote-req-header",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Operation Name"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Description"})})]}),Object(a.jsx)("div",{className:"quote-req-table",children:this.state.listitems&&this.state.listitems.filter((function(t){return t.name.toLowerCase().includes(e.state.searchValue)})).map((function(t){return Object(a.jsxs)("div",{className:"row mt-1",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsxs)("label",{className:"btn btn-default blue projectname-truncate text-truncate",children:[Object(a.jsx)("input",{type:"radio",className:"toggle",name:"operationItem",value:t.id,onChange:function(){return e.onOperationSelected(t)}}),t.name]})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{className:"description-truncate text-truncate",children:t.desc})})]},t.id)}))}),Object(a.jsx)("button",{onClick:function(){return e.onTagOperationSelectedSave()},className:"btn btn-success btn-sm",children:"Save"})]})})})}}]),s}(r.Component),F=s(371),R=function(e){var t=e.type,s=e.listItem,n=e.reqQty,c=e.isSelected,i=e.onreqQntyChange,l=e.onCheckboxChange;switch(t){case"tool":return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"checkbox",name:s.id,checked:c,onChange:l})},"0"),Object(a.jsx)("td",{children:s.itemName},"1"),Object(a.jsx)("td",{children:s.availability},"2"),Object(a.jsx)("td",{children:s.cost},"3"),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",name:s.id,defaultValue:n,onChange:i})},"4")]},"inveRow");case"worker":return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"checkbox",name:s.id,checked:c,onChange:l})},"5"),Object(a.jsx)("td",{children:s.name},"6"),Object(a.jsx)("td",{children:s.avail_per_day},"7"),Object(a.jsx)("td",{children:s.cost_per_hr},"8"),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",name:s.id,defaultValue:n,onChange:i})},"9")]},"workerRow");default:return}},V=function(e){var t=e.headerObj;e.onCheckboxChange;return Object(a.jsx)("tr",{className:"green-text-color2",children:t&&t.map((function(e,t){return"inputCheckbox"==e?Object(a.jsx)("th",{children:Object(a.jsx)("input",{type:"checkbox",name:"selectAllTools"})},"0"):Object(a.jsx)("th",{children:e},e)}))},"tableHeade")},U=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var c;return Object(n.a)(this,s),(c=t.call(this,e)).handleCheckboxChange=function(e){var t=e.target.name,s=[];if(s.Inventories=c.state.toolList.find((function(e){return e.id==t})),s.req_quantity=c.state.toolList.find((function(e){return e.id==t})).req_quantity,c.state.toolList.find((function(e){return e.id==t})).req_quantity)if(c.setState({showAlert:!1}),e.target.checked){c.state.selectedToolList.push(s);var a=c.state.totalCost+s.Inventories.cost*s.Inventories.req_quantity;c.setState({totalCost:a})}else{var n=c.state.selectedToolList.filter((function(e){return e.id!==t}));c.state.selectedToolList=n;a=c.state.totalCost-s.Inventories.cost*s.Inventories.req_quantity;c.setState({totalCost:a})}else c.showAlertMessage("Please add required quantity"),e.target.checked=!1},c.handleWorkerCheckboxChange=function(e){var t=e.target.name,s=[];if(s.Workers=c.state.workerList.find((function(e){return e.id==t})),s.total_hrs_req=c.state.workerList.find((function(e){return e.id==t})).total_hrs_req,c.state.workerList.find((function(e){return e.id==t})).total_hrs_req)if(c.setState({showAlert:!1}),e.target.checked){c.state.selectedWorkerList.push(s);var a=c.state.totalCost+s.Workers.cost_per_hr*s.Workers.total_hrs_req;c.setState({totalCost:a})}else{var n=c.state.selectedWorkerList.filter((function(e){return e.id!=t}));c.state.selectedWorkerList=n;a=c.state.totalCost-s.Workers.cost_per_hr*s.Workers.total_hrs_req;c.setState({totalCost:a})}else c.showAlertMessage("Please add required hours"),e.target.checked=!1},c.reqQntyChange=function(e){var t=e.target.name,s=[];s=c.state.toolList;var a=[];a=c.state.selectedToolList,s.find((function(e){return e.id==t}))&&(s.find((function(e){return e.id==t})).req_quantity=e.target.value),a.find((function(e){return e.Inventories.id==t}))&&(a.find((function(e){return e.Inventories.id==t})).req_quantity=e.target.value),c.setState({toolList:s,selectedToolList:a})},c.reqHourChange=function(e){var t=e.target.name,s=[];s=c.state.workerList;var a=[];a=c.state.selectedWorkerList,s.find((function(e){return e.id==t}))&&(s.find((function(e){return e.id==t})).total_hrs_req=e.target.value),a.find((function(e){return e.Workers.id==t}))&&(a.find((function(e){return e.Workers.id==t})).total_hrs_req=e.target.value),c.setState({workerList:s,selectedWorkerList:a})},c.createToolRow=function(e){return Object(a.jsx)(R,{type:"tool",listItem:e,onCheckboxChange:c.handleCheckboxChange,onreqQntyChange:c.reqQntyChange})},c.createWorkerCheckbox=function(e){return Object(a.jsx)(R,{type:"worker",listItem:e,onCheckboxChange:c.handleWorkerCheckboxChange,onreqQntyChange:c.reqHourChange})},c.createTableHeader=function(e){var t=[];return"tool"===e?(t=["inputCheckbox","Tool Name","Available Quantity","Required Quantity","Cost"],Object(a.jsx)(V,{headerObj:t,onCheckboxChange:c.handleCheckboxChange})):(t=["inputCheckbox","Worker Name","Available per Day","Cost per Hour","Required Hours"],Object(a.jsx)(V,{headerObj:t,onCheckboxChange:c.handleWorkerCheckboxChange}))},c.createToolList=function(){return c.state.toolList.filter((function(e){return e.itemName.toLowerCase().includes(c.state.searchValue)})).map(c.createToolRow)},c.createWorkerList=function(){return c.state.workerList.filter((function(e){return e.name.toLowerCase().includes(c.state.searchValue)})).map(c.createWorkerCheckbox)},c.state={listitems:[],toolList:[],workerList:[],searchValue:"",selectedToolList:[],selectedWorkerList:[],showAlert:!1,alertConfig:{variant:"danger"},totalCost:0},c.getData(),c}return Object(c.a)(s,[{key:"getData",value:function(){this.props.showTools&&this.getAllTools(),this.props.showWorkers&&this.getAllWorkers()}},{key:"getAllTools",value:function(){var e=this;T.getAllInventory().then((function(t){e.setState({toolList:t.data.rows})}),(function(e){console.log("Error")}))}},{key:"getAllWorkers",value:function(){var e=this;T.getAllWorkers().then((function(t){e.setState({workerList:t.data.rows})}),(function(e){console.log("Error")}))}},{key:"showAlertMessage",value:function(e){this.setState((function(t){return{alertConfig:Object(u.a)(Object(u.a)({},t.alertConfig),{},{message:e}),showAlert:!0}}))}},{key:"saveConfigOperation",value:function(e){var t={};t.tools=this.state.selectedToolList,t.workers=this.state.selectedWorkerList,t.totalCost=this.state.totalCost,this.props.popupClose(t)}},{key:"render",value:function(){return Object(a.jsxs)(o.a.Fragment,{children:[this.props.showTools&&Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"underline blue",children:"Add Tools"}),Object(a.jsx)(F.a,{responsive:"sm",children:Object(a.jsxs)("tbody",{children:[this.createTableHeader("tool"),this.createToolList()]})})]}),this.props.showWorkers&&Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"underline blue",children:"Add Worker"}),Object(a.jsx)(F.a,{responsive:"sm",children:Object(a.jsxs)("tbody",{children:[this.createTableHeader("worker"),this.createWorkerList()]})})]}),Object(a.jsx)("button",{onClick:this.saveConfigOperation.bind(this),className:"btn btn-success btn-sm",children:" Save "}),this.state.showAlert&&Object(a.jsx)(A,{alertConfig:this.state.alertConfig,showAlert:this.state.showAlert})]})}}]),s}(r.Component),B=(new(function(){function e(){Object(n.a)(this,e)}return Object(c.a)(e,[{key:"updateWorkerProfile",value:function(e,t){var s={method:"put",url:"https://funetus-api.herokuapp.com/worker/"+e,data:t};return M()(s).then((function(e){return console.log(e),e})).catch((function(e){console.log(e)}))}}]),e}()),function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(n.a)(this,s);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={item:{}},e}return Object(c.a)(s,[{key:"handleChange",value:function(e,t){var s=this.state.item;s[e]=t.target.value,this.setState({item:s})}},{key:"saveProfile",value:function(){var e=this.state.item;console.log(e)}},{key:"render",value:function(){var e=this;return Object(a.jsx)(o.a.Fragment,{children:Object(a.jsx)(p.a,{children:Object(a.jsx)(O.a,{className:"p-2",children:Object(a.jsx)(x.a,{children:Object(a.jsxs)(v.a,{children:[Object(a.jsx)(f.a,{className:"mb-3",children:Object(a.jsx)(g.a,{type:"text",placeholder:"Enter Name",onChange:this.handleChange.bind(this,"name")})}),Object(a.jsx)(f.a,{className:"mb-3",children:Object(a.jsx)(g.a,{type:"text",placeholder:"Enter Phone Number",onChange:this.handleChange.bind(this,"phone")})}),Object(a.jsx)(f.a,{className:"mb-3",children:Object(a.jsx)(g.a,{type:"text",placeholder:"Enter Address",onChange:this.handleChange.bind(this,"address")})}),Object(a.jsx)(f.a,{className:"mb-3",children:Object(a.jsx)(g.a,{type:"text",placeholder:"Enter Email",onChange:this.handleChange.bind(this,"email")})}),Object(a.jsx)(f.a,{className:"mb-3",children:Object(a.jsx)(g.a,{type:"text",placeholder:"Availability per day",onChange:this.handleChange.bind(this,"avail_per_day")})}),Object(a.jsx)(f.a,{className:"mb-3",children:Object(a.jsx)(g.a,{type:"text",placeholder:"Cost per hour",onChange:this.handleChange.bind(this,"cost_per_hr")})}),Object(a.jsx)(f.a,{className:"mb-3",children:Object(a.jsx)(g.a,{type:"text",placeholder:"Profession",onChange:this.handleChange.bind(this,"professionId")})}),Object(a.jsx)(f.a,{className:"mb-3 justify-content-center",children:Object(a.jsx)(N.a,{color:"success",onClick:function(){return e.saveProfile()},children:"Save"})})]})})})})})}}]),s}(r.Component)),Y=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(n.a)(this,s);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).callback=function(t){e.props.parentCloseCallback(t)},e}return Object(c.a)(s,[{key:"renderPopupBody",value:function(){switch(this.props.popupConfig.type){case"forgotPassword":return Object(a.jsx)(D,{popupClose:this.props.parentCloseCallback});case"toolsList":return Object(a.jsx)(U,{showTools:!0,popupClose:this.callback});case"workerList":return Object(a.jsx)(U,{showWorkers:!0,popupClose:this.callback});case"configureOperation":return Object(a.jsx)(U,{showTools:!0,showWorkers:!0,popupClose:this.callback});case"operationList":return Object(a.jsx)(W,{popupClose:this.callback});case"image":return Object(a.jsx)("img",{src:this.props.popupConfig.body,className:"img-thumbnail",alt:"..."});case"profile":return Object(a.jsx)(B,{});default:return this.props.popupConfig.body}}},{key:"render",value:function(){var e;return"confirmation"===this.props.popupConfig.type&&(e=Object(a.jsx)(N.a,{color:"success",onClick:this.props.parentConfirmCallback,children:"Confirm Delete"})),Object(a.jsxs)(E.a,{show:this.props.openFlag,onHide:this.props.parentCloseCallback,children:[Object(a.jsx)(E.a.Header,{closeButton:!0,children:Object(a.jsx)(E.a.Title,{children:this.props.popupConfig.header})}),Object(a.jsx)(E.a.Body,{children:this.renderPopupBody()}),Object(a.jsx)(E.a.Footer,{children:e})]})}}]),s}(o.a.Component),H="https://funetus-api.herokuapp.com/auth/",J=new(function(){function e(){Object(n.a)(this,e)}return Object(c.a)(e,[{key:"login",value:function(e){var t={method:"post",url:H+"login",headers:{"Content-Type":"application/json"},data:e};return M()(t).then((function(e){return e.data&&localStorage.setItem("user",JSON.stringify(e.data)),e})).catch((function(e){console.log(e)}))}},{key:"loginWorker",value:function(e){var t={method:"post",url:H+"workerLogin",headers:{"Content-Type":"application/json"},data:e};return M()(t).then((function(e){return e.data&&localStorage.setItem("user",JSON.stringify(e.data)),e})).catch((function(e){console.log(e)}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e,t,s){return M.a.post(H+"signup",{username:e,email:t,password:s})}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}()),K=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(){var e;return Object(n.a)(this,s),(e=t.call(this)).forgotPassword=function(){e.setState({isPopupOpen:!0,popupConfig:{header:"Forgot Password",body:"",type:"forgotPassword"}})},e.handleClose=function(){e.setState({isPopupOpen:!1})},e.state={Email:"",Password:"",showAlert:!1,alertConfig:{variant:"danger"},popupConfig:{},isPopupOpen:!1,checkboxChecked:!1},e.Password=e.Password.bind(Object(j.a)(e)),e.Email=e.Email.bind(Object(j.a)(e)),e.loginValidation=e.loginValidation.bind(Object(j.a)(e)),e.handleChange=e.handleChange.bind(Object(j.a)(e)),e}return Object(c.a)(s,[{key:"Email",value:function(e){this.setState({Email:e.target.value})}},{key:"Password",value:function(e){this.setState({Password:e.target.value})}},{key:"showAlertMessage",value:function(e){this.setState((function(t){return{alertConfig:Object(u.a)(Object(u.a)({},t.alertConfig),{},{message:e}),showAlert:!0}}))}},{key:"loginValidation",value:function(e){""===this.state.Email||""===this.state.Password?this.showAlertMessage(I):Object(C.isEmail)(this.state.Email)?this.handleLogin(e):this.showAlertMessage(y)}},{key:"handleLogin",value:function(e){var t=this,s=JSON.stringify({email:this.state.Email,password:this.state.Password});this.state.checkboxChecked?J.loginWorker(s).then((function(e){e&&e.data?t.props.history.push("/WorkerDashboard"):t.showAlertMessage(k)}),(function(e){t.showAlertMessage(k)})):J.login(s).then((function(e){e&&e.data?e.data.userId===q?t.props.history.push("/Dashboard"):e.data.userId===P&&t.props.history.push("/AdminDashboard"):t.showAlertMessage(k)}),(function(e){t.showAlertMessage(k)}))}},{key:"handleChange",value:function(e){this.setState({checkboxChecked:e.target.checked})}},{key:"render",value:function(){return Object(a.jsxs)(b.a,{className:"justify-content-center login-div",children:[Object(a.jsx)(m.a,{md:"9",lg:"7",xl:"6",children:Object(a.jsx)(p.a,{children:Object(a.jsx)(O.a,{className:"p-2",children:Object(a.jsxs)(x.a,{children:[Object(a.jsxs)(v.a,{children:[Object(a.jsx)(f.a,{className:"mb-3",children:Object(a.jsx)(g.a,{type:"text",onChange:this.Email,placeholder:"Enter Email"})}),Object(a.jsx)(f.a,{className:"mb-4",children:Object(a.jsx)(g.a,{type:"password",onChange:this.Password,placeholder:"Enter Password"})}),Object(a.jsx)("input",{type:"checkbox",onChange:this.handleChange.bind(this)})," Login as worker",Object(a.jsxs)("p",{className:"forgot-password text-right",children:["Forgot ",Object(a.jsx)("span",{role:"button",className:"text-primary",onClick:this.forgotPassword,children:"password?"})]}),Object(a.jsx)(N.a,{color:"success",onClick:this.loginValidation,children:"Login"})]}),this.state.showAlert&&Object(a.jsx)(A,{alertConfig:this.state.alertConfig})]})})})}),Object(a.jsx)(Y,{popupConfig:this.state.popupConfig,openFlag:this.state.isPopupOpen,parentCloseCallback:this.handleClose.bind(this)})]})}}]),s}(r.Component),Z=s(73),X=s(377),G=s.p+"static/media/Logo.b78c8f36.png",z=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).state={popupConfig:{},isPopupOpen:!1},a.handleClose=function(e){a.setState({isPopupOpen:!1})},a}return Object(c.a)(s,[{key:"logOut",value:function(){localStorage.removeItem("user")}},{key:"showProfile",value:function(){this.setState({isPopupOpen:!0,popupConfig:{header:"Manage Profiile",body:"",type:"profile"}})}},{key:"render",value:function(){var e=this;return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsxs)("div",{className:"page-header sticky-top",children:[Object(a.jsx)("img",{className:"logo-header",alt:"Logo",src:G}),Object(a.jsx)("div",{className:"float-right",children:Object(a.jsxs)(Z.a,{as:X.a,children:[Object(a.jsx)(N.a,{children:JSON.parse(localStorage.getItem("user")).userName}),Object(a.jsx)(Z.a.Toggle,{split:!0,variant:"info",id:"dropdown-split-basic"}),Object(a.jsxs)(Z.a.Menu,{children:[Object(a.jsx)(Z.a.Item,{onClick:function(){return e.showProfile()},children:"Profile"}),Object(a.jsx)(Z.a.Item,{href:"/",onClick:function(){return e.logOut()},children:"Logout"})]})]})})]}),Object(a.jsx)(Y,{popupConfig:this.state.popupConfig,openFlag:this.state.isPopupOpen,parentCloseCallback:this.handleClose})]})}}]),s}(r.Component),$=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(){return Object(n.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(a.jsx)(o.a.Fragment,{children:Object(a.jsx)("div",{className:"footer-div",children:Object(a.jsx)("span",{children:"2021 @ Fluents Machine Shop. All rights reserved"})})})}}]),s}(r.Component),ee="https://funetus-api.herokuapp.com/",te=new(function(){function e(){Object(n.a)(this,e)}return Object(c.a)(e,[{key:"getAllQuotes",value:function(){var e={method:"get",url:ee+"quotes"};return M()(e).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"getSingleQuote",value:function(e){var t={method:"get",url:ee+"quotes/"+e};return M()(t).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"createQuote",value:function(e){var t={method:"post",url:ee+"quotes",data:e};return M()(t).then((function(e){return console.log(e),e})).catch((function(e){console.log(e)}))}},{key:"editQuote",value:function(e,t){var s={method:"put",url:ee+"quotes/"+e,data:t};return M()(s).then((function(e){return console.log(e),e})).catch((function(e){console.log(e)}))}},{key:"changeStatus",value:function(e,t){var s={method:"post",url:ee+"quotes/"+e+"/changeStatus",data:t};return M()(s).then((function(e){return console.log(e),e})).catch((function(e){console.log(e)}))}},{key:"savePOUrl",value:function(e,t){var s={method:"post",url:ee+"quotes/submitPOUrl/"+e,data:t};return M()(s).then((function(e){return console.log(e),e})).catch((function(e){console.log(e)}))}}]),e}()),se=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).state={activeId:0,searchValue:"",listitems:[]},a.handleChange=a.handleChange.bind(Object(j.a)(a)),a.getAllQuotes(),a}return Object(c.a)(s,[{key:"selectQuote",value:function(e){this.props.parentCallback(e),this.setState({activeId:e.id})}},{key:"getAllQuotes",value:function(){var e=this;te.getAllQuotes().then((function(t){e.setState({listitems:t.data.rows})}),(function(e){console.log("Error")}))}},{key:"handleChange",value:function(e){this.setState({searchValue:e.target.value.toLowerCase()})}},{key:"render",value:function(){var e=this;return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsxs)("div",{className:"list-group-header section-header row",children:[Object(a.jsxs)("div",{className:"col-4",children:[Object(a.jsx)("span",{className:"mb-1 underline",children:"My Quote"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Requests"})]}),Object(a.jsx)("div",{className:"col-8",children:Object(a.jsxs)("div",{className:"has-search",children:[Object(a.jsx)("span",{className:"fa fa-search form-control-feedback"}),Object(a.jsx)("input",{type:"text",className:"form-control search-box",onChange:this.handleChange,placeholder:"Search quotes..."})]})})]}),Object(a.jsx)("div",{className:"list-group",children:this.state.listitems&&this.state.listitems.filter((function(t){return t.title.toLowerCase().includes(e.state.searchValue)})).map((function(t){return Object(a.jsxs)("a",{className:t.id===e.state.activeId?" active list-group-item list-group-item-action":"list-group-item list-group-item-action","aria-current":"true",id:t.id,onClick:function(){return e.selectQuote(t)},children:[Object(a.jsx)("div",{className:"d-flex w-100 justify-content-between",children:Object(a.jsx)("h5",{className:"mb-1 underline half",children:t.title})}),Object(a.jsx)("p",{className:"mb-1 ellipses_two",children:t.desc}),Object(a.jsx)("div",{children:t.tools&&t.tools.map((function(e){return Object(a.jsx)("span",{className:"badge tool-badge",children:e})}))}),Object(a.jsxs)("div",{className:"row list-item-detail",children:[Object(a.jsx)("div",{className:"col-2 calender-icon",children:Object(a.jsx)("small",{children:new Date(t.createdAt).toLocaleDateString()})}),Object(a.jsxs)("div",{className:"col-5 flag-icon",children:[Object(a.jsx)("small",{children:t.status}),Object(a.jsx)("span",{className:"date-badge badge",children:new Date(t.updatedAt).toLocaleDateString()})]}),Object(a.jsxs)("div",{className:"col-3 attachment-icon",children:[Object(a.jsx)("small",{children:t.Uploads}),Object(a.jsx)("small",{children:" Attachments"})]}),Object(a.jsx)("div",{className:"col-2 rightarrow-icon",children:Object(a.jsx)("small",{children:"View details"})})]})]},t.id)}))})]})}}]),s}(r.Component),ae=s(58),ne=s(83),ce=s.n(ne),ie=s(45),le=s.n(ie),re=(s(113),new Date),oe=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).state={item:{},measuresObjId:1},a.state.item.measures=[{id:a.state.measuresObjId,name:"",unit:"",qty:""}],a}return Object(c.a)(s,[{key:"resetQuote",value:function(){this.setState({item:{},measuresObjId:1});var e=this.state.item;e.measures=[],this.setState({item:e})}},{key:"sendQuoteReq",value:function(){var e=this,t=this.state.item.measures.map((function(e){return delete e.id,e})),s={title:this.state.item.title,desc:this.state.item.desc,status:"NEW",startDate:this.state.item.startDate,endDate:this.state.item.endDate,measures:t,uploads:this.state.item.uploads};te.createQuote(s).then((function(t){e.props.parentCreateCallBack(t.data)}),(function(e){console.log("Error")}))}},{key:"handleFileInput",value:function(e){var t=this,s=e.target.files[0];if(s){var a=new ce.a({bucketName:"fuentes-fileupload",dirName:"quote-attachments",region:"us-west-1",accessKeyId:"AKIA5ARA5MYMNVC47U6F",secretAccessKey:"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"}),n=s.name;a.uploadFile(s,n).then((function(e){var s={fileName:n,filePath:e.location},a=t.state.item;a.uploads||(a.uploads=[]),a.uploads.push(s),t.setState({item:a})})).catch((function(e){return console.error(e)}))}}},{key:"handleFormChange",value:function(e,t){var s=this.state.item;s[e]=t.target.value,this.setState({item:s})}},{key:"handleDateChange",value:function(e,t){var s=this.state.item;s[e]=new Date(t),this.setState({item:s})}},{key:"handleMeasureChange",value:function(e,t,s){var a=this.state.item;a.measures.find((function(t){return t.id==e}))[t]=s.target.value,this.setState({item:a})}},{key:"addMeasuresClick",value:function(){var e=this.state.item,t=this.state.measuresObjId+1;this.setState({measuresObjId:t});var s={id:t,name:"",unit:"",qty:""};e.measures=[].concat(Object(ae.a)(e.measures),[s]),this.setState({item:e})}},{key:"handleRemoveClick",value:function(e,t){var s=this.state.item;s.measures=this.state.item.measures.filter((function(t){return t.id!=e})),this.setState({item:s})}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"app flex-row align-items-center",children:[Object(a.jsxs)("div",{className:"list-group-header section-header row",children:[Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("span",{className:"mb-1 underline",children:"Send New "}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Quote Request"})]}),Object(a.jsxs)("div",{className:"col text-right",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-blue btn-sm pr-4 pl-4",onClick:function(){return e.resetQuote()},children:"Reset"}),Object(a.jsx)("button",{type:"button",className:"btn btn-green btn-sm ml-2 pr-4 pl-4",onClick:function(){return e.sendQuoteReq()},children:"Send"})]})]}),Object(a.jsxs)("div",{className:"blue-box-div",id:"create-quote-form",children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"title",children:"Title"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",defaultValue:this.state.item.title,onChange:this.handleFormChange.bind(this,"title")})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"description",children:"Description"}),Object(a.jsx)("textarea",{className:"form-control",id:"description",rows:"3",defaultValue:this.state.item.desc&&this.state.item.desc,onChange:this.handleFormChange.bind(this,"desc")})]}),Object(a.jsxs)("div",{className:"form-group row",children:[Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("label",{children:"Start Date"}),Object(a.jsx)(le.a,{selected:this.state.item.startDate&&this.state.item.startDate,onChange:this.handleDateChange.bind(this,"startDate"),className:"form-control",minDate:re})]}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("label",{children:"End Date"}),Object(a.jsx)(le.a,{selected:this.state.item.endDate&&this.state.item.endDate,onChange:this.handleDateChange.bind(this,"endDate"),className:"form-control",minDate:this.state.item.startDate})]})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Measurements"}),Object(a.jsx)("button",{className:"btn add-btn",onClick:function(){return e.addMeasuresClick()}}),this.state.item.measures.length>0&&Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("label",{children:"Name"})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("label",{children:"Unit"})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("label",{children:"Quantity"})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("label",{})})]}),this.state.item.measures&&this.state.item.measures.map((function(t){return Object(a.jsxs)("div",{className:"row pb-2",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("input",{type:"text",className:"form-control",defaultValue:t.name,onChange:e.handleMeasureChange.bind(e,t.id,"name")})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("input",{type:"text",className:"form-control",defaultValue:t.unit,onChange:e.handleMeasureChange.bind(e,t.id,"unit")})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("input",{type:"number",className:"form-control",defaultValue:t.qty,onChange:e.handleMeasureChange.bind(e,t.id,"qty")})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("button",{className:"btn measure-delete-btn ",onClick:e.handleRemoveClick.bind(e,t.id)})})]},t.id)}))]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Attachments"}),Object(a.jsxs)("label",{className:"btn btn-blue btn-sm pr-4 pl-4 ml-2",children:["Browse ",Object(a.jsx)("input",{type:"file",hidden:!0,onChange:this.handleFileInput.bind(this)})]})]})]})]})}}]),s}(r.Component),de=new Date,he=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var a;Object(n.a)(this,s),(a=t.call(this,e)).state={formInputList:a.props.dataFromParent.Measures,selectedItem:a.props.dataFromParent,measuresObjId:a.props.dataFromParent.Measures.length,popupConfig:{},isPopupOpen:!1},a.handleClose=function(){a.setState({isPopupOpen:!1})};var c=a.state.selectedItem.Measures&&a.state.selectedItem.Measures.map((function(e,t){return e.id=t+1,e})),i=a.state.selectedItem;return i.Measures=c,a.setState({selectedItem:i}),a}return Object(c.a)(s,[{key:"handleFormChange",value:function(e,t){var s=this.state.selectedItem;s[e]=t.target.value,this.setState({selectedItem:s})}},{key:"handleDateChange",value:function(e,t){var s=this.state.selectedItem;s[e]=new Date(t),this.setState({selectedItem:s})}},{key:"handleMeasureChange",value:function(e,t,s){var a=this.state.selectedItem;a.Measures.find((function(t){return t.id==e}))[t]=s.target.value,this.setState({selectedItem:a})}},{key:"newQuote",value:function(){this.props.parentCallback()}},{key:"editQuote",value:function(){this.props.parentEditCallBack()}},{key:"saveQuote",value:function(){var e=this.state.selectedItem.Measures.map((function(e){return delete e.id,e})),t={title:this.state.selectedItem.title,desc:this.state.selectedItem.desc,measures:e};te.editQuote(this.state.selectedItem.id,t).then((function(e){}),(function(e){console.log("Error")}))}},{key:"addMeasuresClick",value:function(){var e=this.state.selectedItem,t=this.state.measuresObjId+1;this.setState({measuresObjId:t});var s={id:t,name:"",unit:"",qty:""};e.Measures=[].concat(Object(ae.a)(e.Measures),[s]),this.setState({selectedItem:e})}},{key:"handleRemoveClick",value:function(e,t){var s=this.state.selectedItem;s.Measures=this.state.selectedItem.Measures.filter((function(t){return t.id!=e})),this.setState({selectedItem:s})}},{key:"removeUploadedImage",value:function(e){var t=new ce.a({bucketName:"fuentes-fileupload",dirName:"quote-attachments",region:"us-west-1",accessKeyId:"AKIA5ARA5MYMNVC47U6F",secretAccessKey:"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"}),s=e.fileName;t.deleteFile(s).then((function(e){return console.log(e)})).catch((function(e){return console.error(e)}))}},{key:"showUploadImage",value:function(e){this.setState({isPopupOpen:!0,popupConfig:{header:"Uploaded Data",body:e,type:"image"}})}},{key:"renderUploadsSection",value:function(e){var t=this;return Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("span",{className:"underline blue",children:"Uploads"}),e&&e.map((function(e,s){return Object(a.jsx)("div",{className:"row pb-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("button",{className:"btn btn-link",onClick:function(){return t.showUploadImage(e.filePath)},children:e.fileName})})})}))]})}},{key:"renderMeasurementsDetailSection",value:function(e){return Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("span",{className:"underline blue",children:"Measurements"}),e.length>0&&Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("label",{children:"Name"})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("label",{children:"Unit"})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("label",{children:"Quantity"})})]}),e&&e.map((function(e,t){return Object(a.jsxs)("div",{className:"row pb-2 green-text-color",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("label",{children:e.name})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("label",{children:e.unit})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("label",{children:e.qty})})]},e.id)}))]})}},{key:"renderMeasurementsSection",value:function(e){var t=this;return Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Measurements"}),Object(a.jsx)("button",{className:"btn add-btn",onClick:function(){return t.addMeasuresClick()}}),e.length>0&&Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("label",{children:"Name"})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("label",{children:"Unit"})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("label",{children:"Quantity"})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("label",{})})]}),e&&e.map((function(e,s){return Object(a.jsxs)("div",{className:"row pb-2",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("input",{type:"text",className:"form-control",defaultValue:e.name,onChange:t.handleMeasureChange.bind(t,e.id,"name")})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("input",{type:"text",className:"form-control",defaultValue:e.unit,onChange:t.handleMeasureChange.bind(t,e.id,"unit")})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("input",{type:"text",className:"form-control",defaultValue:e.qty,onChange:t.handleMeasureChange.bind(t,e.id,"qty")})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("button",{className:"btn measure-delete-btn ",onClick:t.handleRemoveClick.bind(t,e.id)})})]},e.id)}))]})}},{key:"renderEditQuote",value:function(){var e=this,t=this.props.dataFromParent;if(t)return Object(a.jsxs)("div",{className:"blue-box-div",children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"title",children:"Title"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"title",defaultValue:t.title,onChange:this.handleFormChange.bind(this,"title")})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"description",children:"Description"}),Object(a.jsx)("textarea",{className:"form-control",id:"description",rows:"3",defaultValue:t.desc,onChange:this.handleFormChange.bind(this,"desc")})]}),Object(a.jsxs)("div",{className:"form-group row",children:[Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("label",{children:"Start Date"}),Object(a.jsx)(le.a,{selected:new Date(t.startDate),onChange:this.handleDateChange.bind(this,"startDate"),className:"form-control",minDate:de})]}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("label",{children:"End Date"}),Object(a.jsx)(le.a,{selected:new Date(t.endDate),onChange:this.handleDateChange.bind(this,"endDate"),className:"form-control",minDate:new Date(t.startDate)})]})]}),this.renderMeasurementsSection(t.Measures),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Attachments"}),Object(a.jsxs)("label",{className:"btn btn-blue btn-sm pr-4 pl-4 ml-2",children:["Browse ",Object(a.jsx)("input",{type:"file",hidden:!0})]}),Object(a.jsxs)("div",{className:"col-3 attachment-icon",children:[Object(a.jsx)("small",{children:t.Uploads&&t.Uploads.length}),Object(a.jsx)("small",{children:"Attachments"})]}),Object(a.jsx)("div",{className:"row pb-2",children:t.Uploads&&t.Uploads.map((function(t,s){return Object(a.jsxs)("div",{className:"",children:[Object(a.jsx)("button",{className:"btn btn-link",onClick:function(){return e.showUploadImage(t.filePath)},children:t.fileName}),Object(a.jsx)("button",{class:"btn remove-btn",onClick:function(){return e.removeUploadedImage(t)}})]})}))})]})]})}},{key:"linkPOUrl",value:function(e){var t={submit_PO:e.location};te.savePOUrl(this.state.selectedItem.id,t).then((function(e){alert(e.data.message)}),(function(e){console.log("Error")}))}},{key:"handleFileInput",value:function(e){var t=this,s=e.target.files[0];if(s){new ce.a({bucketName:"fuentes-fileupload",dirName:"purchase-order",region:"us-west-1",accessKeyId:"AKIA5ARA5MYMNVC47U6F",secretAccessKey:"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"}).uploadFile(s,"test-file").then((function(e){t.linkPOUrl(e)})).catch((function(e){return console.error(e)}))}}},{key:"renderQuoteDetails",value:function(){if(this.props.dataFromParent)return Object(a.jsxs)("div",{className:"blue-box-div",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"underline blue",children:"Title"}),Object(a.jsx)("p",{children:this.props.dataFromParent.title})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"underline blue",children:"Description"}),Object(a.jsx)("p",{children:this.props.dataFromParent.desc})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("span",{className:"underline blue mb-2",children:"Submitted On"}),Object(a.jsx)("p",{children:new Date(this.props.dataFromParent.createdAt).toLocaleDateString()})]}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("span",{className:"underline blue",children:"Tentitive Start Date"}),Object(a.jsx)("p",{children:new Date(this.props.dataFromParent.startDate).toLocaleDateString()})]}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("span",{className:"underline blue",children:"Tentitive End Date"}),Object(a.jsx)("p",{children:new Date(this.props.dataFromParent.endDate).toLocaleDateString()})]})]}),this.renderUploadsSection(this.props.dataFromParent.Uploads),"QUOTE_RECEIVED"==this.props.dataFromParent.status&&Object(a.jsxs)("div",{class:"purchase-order d-inline-block form-group",children:[Object(a.jsx)("span",{className:"underline blue mb-2",children:"Order details"}),Object(a.jsxs)("div",{class:"row ml-2",children:[Object(a.jsx)("div",{class:"col-md-8",children:"Operation Cost"}),Object(a.jsx)("div",{class:"col-md-2",children:"2"}),Object(a.jsx)("div",{class:"col-md-8",children:"Inspection Amount"}),Object(a.jsx)("div",{class:"col-md-2",children:"1"}),Object(a.jsx)("div",{class:"col-md-8",children:"Sub Total"}),Object(a.jsx)("div",{class:"col-md-2",children:"3"}),Object(a.jsx)("div",{class:"col-md-8",children:"Total tax"}),Object(a.jsx)("div",{class:"col-md-2",children:"5%"}),Object(a.jsx)("div",{class:"col-md-8"}),Object(a.jsx)("div",{class:"col-md-2"}),Object(a.jsx)("div",{class:"col-md-8",children:"Total Cost"}),Object(a.jsx)("div",{class:"col-md-2",children:"8"})]})]}),Object(a.jsx)("div",{className:"d-inline-block",children:Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("span",{className:"underline blue mb-2",children:"Status"}),Object(a.jsxs)("p",{children:[" ",this.props.dataFromParent.status,"QUOTE_RECEIVED"==this.props.dataFromParent.status&&Object(a.jsxs)("label",{className:"btn btn-green btn-sm pr-4 pl-4 ml-2",children:["Submit P O ",Object(a.jsx)("input",{type:"file",hidden:!0,onChange:this.handleFileInput.bind(this)})]})]})]})}),this.renderMeasurementsDetailSection(this.props.dataFromParent.Measures)]})}},{key:"render",value:function(){var e=this;return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(Y,{popupConfig:this.state.popupConfig,openFlag:this.state.isPopupOpen,parentCloseCallback:this.handleClose}),Object(a.jsxs)("div",{className:"app flex-row align-items-center",children:[Object(a.jsxs)("div",{className:"list-group-header section-header row",children:[Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("span",{className:"mb-1 underline",children:"Quote "}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:" Detail"})]}),Object(a.jsxs)("div",{className:"col text-right",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-blue btn-sm pr-4 pl-4",onClick:function(){return e.newQuote()},children:"New"}),this.props.isQuoteEditActive?Object(a.jsx)("button",{type:"button",className:"btn btn-green btn-sm pr-4 pl-4 ml-2",onClick:function(){return e.saveQuote()},children:"Save"}):Object(a.jsx)("button",{type:"button",className:"btn btn-green btn-sm pr-4 pl-4 ml-2",onClick:function(){return e.editQuote()},children:"Edit"})]})]}),this.props.isQuoteEditActive?this.renderEditQuote():this.renderQuoteDetails()]})]})}}]),s}(r.Component),ue=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(n.a)(this,s);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={isQuoteDetailActive:!1,quoteItem:null,selectedQuoteId:null,popupConfig:{},isPopupOpen:!1},e.selectedOuoteItem=function(t){void 0!==t?e.getSingleQuote(t.id):e.setState({isQuoteDetailActive:!1,isQuoteEditActive:!1})},e.handleClose=function(){e.setState({isPopupOpen:!1})},e.getSingleQuote=function(t){te.getSingleQuote(t).then((function(t){t&&e.setState({isQuoteDetailActive:!0,isQuoteEditActive:!1,quoteItem:t.data})}),(function(e){console.log("Error")}))},e.quoteEdit=function(){e.setState({isQuoteEditActive:!0})},e.quoteCreateCallBack=function(t){var s=t.data;s.Measures=s.measures,e.setState({isQuoteDetailActive:!0,isQuoteEditActive:!1,quoteItem:s}),e.setState({isPopupOpen:!0,popupConfig:{header:"Message",body:t.message,type:"message"}})},e}return Object(c.a)(s,[{key:"render",value:function(){return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(Y,{popupConfig:this.state.popupConfig,openFlag:this.state.isPopupOpen,parentCloseCallback:this.handleClose.bind(this)}),Object(a.jsx)(z,{}),Object(a.jsxs)("div",{className:"page-body row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(se,{parentCallback:this.selectedOuoteItem})}),Object(a.jsxs)("div",{className:"col",children:[this.state.isQuoteDetailActive?null:Object(a.jsx)(oe,{parentCreateCallBack:this.quoteCreateCallBack}),this.state.isQuoteDetailActive?Object(a.jsx)(he,{isQuoteEditActive:this.state.isQuoteEditActive,parentEditCallBack:this.quoteEdit,dataFromParent:this.state.quoteItem,parentCallback:this.selectedOuoteItem}):null]})]}),Object(a.jsx)($,{})]})}}]),s}(r.Component),je=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).state={activeLink:1,leftMenu:[]},a.selectMenu(),a}return Object(c.a)(s,[{key:"selectMenu",value:function(){var e=[];e=JSON.parse(localStorage.getItem("user")).admin?[{id:1,name:"Quotes",className:"nav-quote-req"},{id:2,name:"Projects ",className:"nav-projects "},{id:3,name:"Operations",className:"nav-operations"},{id:4,name:"Inventory",className:"nav-inventory"},{id:5,name:"Worker",className:"nav-workers"},{id:6,name:"Customer",className:"nav-customer"},{id:7,name:"Inspection",className:"nav-inspection"}]:[{id:1,name:"Projects ",className:"nav-projects "},{id:2,name:"Operations",className:"nav-operations"},{id:3,name:"Schedule",className:"nav-schedule"}],this.state.leftMenu=e}},{key:"selectMenuItem",value:function(e){this.setState({activeLink:e}),this.props.onClick(e)}},{key:"render",value:function(){var e=this,t=this.state,s=t.leftMenu,n=t.activeLink;return Object(a.jsx)(o.a.Fragment,{children:Object(a.jsx)("div",{className:"sidebar-div",children:Object(a.jsx)("ul",{className:"nav flex-column",children:s&&s.map((function(t){return Object(a.jsx)("li",{className:t.className+(t.id===n?" nav-item active_item":" nav-item"),children:Object(a.jsx)("p",{className:"nav-link","data-toggle":"tab",onClick:function(s){return e.selectMenuItem(t.id)},children:Object(a.jsx)("span",{children:t.name})})},t.id)}))})})})}}]),s}(r.Component),be=s(384),me=s(385),pe=function(e){switch(e){case"NEW":return"new";case"WIP":return"inProgress";case"QUOTE_RECEIVED":return"qtReceived";case"QUOTE_ACCEPTED":return"qtAccepted";case"QUOTE_PO_SUBMIT":return"submitted";case"QUOTE_REJECTED":return"rejected";case"PROJECT_IN_PROGRESS":return"projectInProgress";case"QUOTE_ADMIN_REJECTED":return"adminRejected";case"CLOSED":return"closed";default:return"new"}},Oe=function(e){switch(e){case"NEW":return 1;case"WIP":return 2;case"QUOTE_RECEIVED":return 3;case"QUOTE_ACCEPTED":return 4;case"QUOTE_PO_SUBMIT":return 5;case"QUOTE_REJECTED":return 4;case"PROJECT_IN_PROGRESS":case"QUOTE_ADMIN_REJECTED":return 6;case"CLOSED":return 7;default:return 1}},xe=(s(347),function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).state={selectedItem:{},open:!1,operationsList:[],tagoperationList:[],inspectionsList:[],selectedInspection:"",popupConfig:{},isPopupOpen:!1,selectedOperationId:0,configOpId:0,totalCost:0},a.getOperations=function(){T.getAllOperations().then((function(e){e&&a.setState({tagoperationList:e.data.rows})}),(function(e){console.log("Error")}))},a.getInspections=function(){T.getAllInspection().then((function(e){e&&a.setState({inspectionsList:e.data.inspections.rows})}),(function(e){console.log("Error")}))},a.getSingleQuote=function(){T.getSingleQuote(a.props.selectedQuoteId).then((function(e){e&&a.setState({selectedItem:e.data})}),(function(e){console.log("Error")}))},a.handleChange=function(e){console.log(e)},a.handleReqAvailChange=function(e){var t=e.target,s=t.value,n=t.min,c=t.max;s=Math.max(Number(n),Math.min(Number(c),Number(s))),alert(s),a.setState({value:s})},a.handleClose=function(e){if(e&&"configureOperation"===a.state.popupConfig.type){if(c=a.state.tagoperationList.find((function(e){return e.id==a.state.configOpId}))){var t={Operations:{id:c.id,name:c.name,desc:c.desc},QuoteOperationInv:e.tools,QuoteOperationWorker:e.workers,operation_cost:e.totalCost,operation_total_hrs:e.workers.reduce((function(e,t){return parseInt(e)+parseInt(t.total_hrs_req)}),0)},s=[].concat(Object(ae.a)(a.state.selectedItem.QuoteOperation),[t]),n=a.state.selectedItem;n.QuoteOperation=s,a.setState({operationsList:t}),a.setState({selectedItem:n})}}else if(e&&"toolsList"===a.state.popupConfig.type){var c;if(console.log(a.state),c=a.state.selectedItem.QuoteOperation.find((function(e){return e.Operations.id==a.state.configOpId}))){console.log(c.QuoteOperationInv);var i=[].concat(Object(ae.a)(c.QuoteOperationInv),[e.tools]);console.log(i)}}else e&&a.state.popupConfig.type;a.setState({isPopupOpen:!1})},a.handleModalYes=function(){a.setState({isPopupOpen:!1});var e=a.state.selectedItem.QuoteOperation.filter((function(e){return e.Operations.id!==a.state.deleteOpId})),t=a.state.selectedItem;t.QuoteOperation=e,a.setState({selectedItem:t})},a.getSingleQuote(),a.getOperations(),a.getInspections(),a}return Object(c.a)(s,[{key:"resetReq",value:function(){}},{key:"showAvailableTools",value:function(e){this.setState({configOpId:e,selectedOperationId:e,isPopupOpen:!0,popupConfig:{header:"Available Tools",body:"",type:"toolsList"}})}},{key:"showAvailableWorker",value:function(e){this.setState({configOpId:e,selectedOperationId:e,isPopupOpen:!0,popupConfig:{header:"Available Workers",body:"",type:"workerList"}})}},{key:"saveQuoteUpdate",value:function(){var e=this,t=[];this.state.operationsList.QuoteOperationInv&&this.state.operationsList.QuoteOperationInv.map((function(e,s){var a={};a.invId=e.Inventories.id,a.reqQty=parseInt(e.req_quantity),t.push(a)}));var s=[];this.state.operationsList.QuoteOperationWorker&&this.state.operationsList.QuoteOperationWorker.map((function(e,t){var a={};a.workerId=e.Workers.id,a.totalHrs=parseInt(e.total_hrs_req),s.push(a)}));var a={quoteId:this.state.selectedItem.id,status:this.state.selectedItem.status,operations:[{operationId:this.state.configOpId,inspection:this.state.selectedInspection,operation_total_hrs:this.state.operationsList.operation_total_hrs,operation_cost:this.state.operationsList.operation_cost,tools:t,workers:s}]};T.tagQuote(a).then((function(t){t?e.showPopupMessage(t.data.message):e.showPopupMessage("Something went wrong!")}),(function(e){console.log("Error")}))}},{key:"submitQuoteUpdate",value:function(){var e=this;T.changeStatus(this.state.selectedItem.id,{status:"QUOTE_RECEIVED"}).then((function(t){console.log(t),e.showPopupMessage(t.data.message)}),(function(e){console.log("Error")}))}},{key:"changeQuoteStatus",value:function(e){var t=this,s={status:e};T.changeStatus(this.state.selectedItem.id,s).then((function(e){console.log(e),t.showPopupMessage(e.msg)}),(function(e){console.log("Error")}))}},{key:"showPopupMessage",value:function(e){this.setState({isPopupOpen:!0,popupConfig:{header:"Message",body:e,type:"message"}})}},{key:"handleBreadCrumb",value:function(){this.props.parentCallback()}},{key:"deleteOperation",value:function(e,t,s){this.setState({deleteOpId:e,isPopupOpen:!0,popupConfig:{header:"Confirm to Delete",body:S+t,type:"confirmation"}})}},{key:"removeTool",value:function(){alert("Do you want to remove tool")}},{key:"handleInspectionChange",value:function(e){this.setState({selectedInspection:e.target.value})}},{key:"handleOperationChange",value:function(e){this.setState({configOpId:e.target.value}),this.setState({isPopupOpen:!0,popupConfig:{header:"Configure Operations",body:"",type:"configureOperation"}})}},{key:"showOperationTools",value:function(e){return Object(a.jsx)(F.a,{responsive:"sm",children:Object(a.jsxs)("tbody",{children:[Object(a.jsx)(V,{headerObj:["inputCheckbox","Tool Name","Available Quantity","Cost","Required Quantity"],onCheckboxChange:this.handleChange}),e&&e.map((function(e,t){return Object(a.jsx)(R,{type:"tool",listItem:e.Inventories,reqQty:e.req_quantity})}))]})})}},{key:"showOperationWorkers",value:function(e){return Object(a.jsx)(F.a,{responsive:"sm",children:Object(a.jsxs)("tbody",{children:[Object(a.jsx)(V,{headerObj:["inputCheckbox","Worker Name","Available per Day","Cost per Hour","Required Hour"],onCheckboxChange:this.handleChange}),e&&e.map((function(e,t){return Object(a.jsx)(R,{type:"worker",listItem:e.Workers,reqQty:e.total_hrs_req})}))]})})}},{key:"getCost",value:function(){return this.state.selectedItem.QuoteOperation?this.state.selectedItem.QuoteOperation.reduce((function(e,t){return e+t.operation_cost}),0):0}},{key:"renderMeasureTable",value:function(){var e=this.state.selectedItem.Measures;return Object(a.jsxs)("div",{className:"quote-data-div",children:[Object(a.jsx)("span",{className:"underline half blue",children:"Measurements"}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("label",{children:"Name"})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("label",{children:"Unit"})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("label",{children:"Quantity"})})]}),e&&e.map((function(e,t){return Object(a.jsxs)("div",{className:"row pb-2 green-text-color",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("label",{children:e.name})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("label",{children:e.unit})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("label",{children:e.qty})})]},e.id)}))]})}},{key:"render",value:function(){var e=this,t={},s=[];return this.state.selectedItem&&(t=this.state.selectedItem.User,s=this.state.selectedItem.Uploads),Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(Y,{popupConfig:this.state.popupConfig,openFlag:this.state.isPopupOpen,parentCloseCallback:this.handleClose,parentConfirmCallback:this.handleModalYes.bind(this)}),Object(a.jsxs)("div",{className:"col admin-quote-page",children:[Object(a.jsxs)("div",{className:"list-group-header section-header row",children:[Object(a.jsx)("div",{className:"col-4",children:Object(a.jsx)("nav",{"aria-label":"breadcrumb",children:Object(a.jsxs)("ul",{className:"breadcrumb",children:[Object(a.jsxs)("li",{className:"breadcrumb-item",onClick:this.handleBreadCrumb.bind(this),children:[Object(a.jsx)("span",{className:"mb-1 underline",children:"Quote"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Requests"})]},"breadcrumb1"),Object(a.jsxs)("li",{className:"breadcrumb-item active","aria-current":"page",children:[Object(a.jsx)("span",{className:"mb-1",children:"Update"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Quote"})]},"breadcrumb2")]})})}),Oe(this.state.selectedItem.status)>4?Object(a.jsxs)("div",{className:"col-8 text-right",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-blue btn-sm pr-4 pl-4",onClick:function(){return e.changeQuoteStatus("QUOTE_REJECTED")},children:"Reject"}),Object(a.jsx)("button",{type:"button",className:"btn btn-green btn-sm ml-2 pr-4 pl-4",onClick:function(){return e.changeQuoteStatus("PROJECT_IN_PROGRESS")},children:"Accept Purchase Order"})]}):Object(a.jsxs)("div",{className:"col-8 text-right",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-blue btn-sm pr-4 pl-4",onClick:function(){return e.resetReq()},children:"Reset"}),Object(a.jsx)("button",{type:"button",className:"btn btn-info btn-sm ml-2 pr-4 pl-4",onClick:function(){return e.saveQuoteUpdate()},children:"Save"}),Object(a.jsx)("button",{type:"button",className:"btn btn-green btn-sm ml-2 pr-4 pl-4",onClick:function(){return e.submitQuoteUpdate()},children:"Submit"})]})]}),Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"blue-box-div row",children:[Object(a.jsxs)("div",{className:"col-3 white-border-right",children:[Object(a.jsxs)("div",{className:"quote-data-div",children:[Object(a.jsx)("span",{className:"underline half blue",children:"Title"}),Object(a.jsx)("span",{className:"badge p-2 ml-2 float-right "+pe(this.state.selectedItem.status),children:this.state.selectedItem.status}),Object(a.jsx)("p",{className:"green-text-color",children:this.state.selectedItem.title})]}),Object(a.jsxs)("div",{className:"quote-data-div",children:[Object(a.jsx)("span",{className:"underline half blue",children:"Description"}),Object(a.jsx)("p",{className:"green-text-color",children:this.state.selectedItem.desc})]}),Object(a.jsxs)("div",{className:"quote-data-div",children:[Object(a.jsx)("span",{className:"underline half blue",children:"Submitted By"}),Object(a.jsx)("p",{className:"green-text-color",children:t&&t.name})]}),Object(a.jsxs)("div",{className:"quote-data-div",children:[Object(a.jsx)("span",{className:"underline half blue",children:"Submitted On"}),Object(a.jsx)("p",{className:"green-text-color",children:new Date(this.state.selectedItem.createdAt).toLocaleDateString()})]}),Object(a.jsxs)("div",{className:"quote-data-div",children:[Object(a.jsx)("span",{className:"underline half blue",children:"Attachments"}),Object(a.jsx)("p",{className:"green-text-color",children:s&&s.length})]}),this.state.selectedItem.Measures&&this.renderMeasureTable()]}),"PROJECT_IN_PROGRESS"===this.state.selectedItem.status||"QUOTE_PO_SUBMIT"===this.state.selectedItem.status?Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"purchase-order d-inline-block form-group col",children:[Object(a.jsx)("span",{className:"underline blue mb-2",children:"Order details"}),Object(a.jsxs)("div",{className:"row ml-2",children:[Object(a.jsx)("div",{className:"col-md-8",children:"Operation Cost"}),Object(a.jsx)("div",{className:"col-md-2",children:"2"}),Object(a.jsx)("div",{className:"col-md-8",children:"Inspection Amount"}),Object(a.jsx)("div",{className:"col-md-2",children:"1"}),Object(a.jsx)("div",{className:"col-md-8",children:"Sub Total"}),Object(a.jsx)("div",{className:"col-md-2",children:"3"}),Object(a.jsx)("div",{className:"col-md-8",children:"Total tax"}),Object(a.jsx)("div",{className:"col-md-2",children:"5%"}),Object(a.jsx)("div",{className:"col-md-8"}),Object(a.jsx)("div",{className:"col-md-2"}),Object(a.jsx)("div",{className:"col-md-8",children:"Total Cost"}),Object(a.jsx)("div",{className:"col-md-2",children:"8"})]})]}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("span",{className:"underline blue mb-2",children:"Purchase Order"}),Object(a.jsx)("img",{src:this.state.selectedItem.submittedPO,className:"img-thumbnail",alt:"..."})]})]})}):Object(a.jsxs)("div",{className:"col quote-measurements",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("span",{className:"underline blue",children:"Make a Quote"})}),Object(a.jsxs)("div",{className:"col text-right",children:[Object(a.jsxs)("select",{className:"form-control btn-green mb-2 mr-2 col-4 d-inline-block",defaultValue:this.state.selectedItem.InspectionId,onChange:this.handleInspectionChange.bind(this),children:[Object(a.jsx)("option",{children:"Add Inspection"}),this.state.inspectionsList&&this.state.inspectionsList.map((function(e,t){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(a.jsxs)("select",{className:"form-control btn-green mb-2 mr-2 col-4 d-inline-block",onChange:this.handleOperationChange.bind(this),children:[Object(a.jsx)("option",{children:"Tag Operations"}),this.state.tagoperationList&&this.state.tagoperationList.map((function(e,t){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(a.jsx)("span",{className:"blue",children:"Total Cost"}),Object(a.jsx)("span",{className:"badge btn-blue p-2 ml-2",children:this.getCost()})]})]}),Object(a.jsxs)("div",{className:"card-header measurements-header row mt-1 font-weight-bold",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Operation"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Description"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Hours"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Workers"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Cost"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Tools"})})]}),Object(a.jsx)(be.a,{children:this.state.selectedItem.QuoteOperation&&this.state.selectedItem.QuoteOperation.map((function(t,s){return Object(a.jsxs)(me.a,{children:[Object(a.jsx)(be.a.Toggle,{as:me.a.Header,eventKey:s+"",children:Object(a.jsxs)("div",{className:"row mt-1 green-text-color",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:t.Operations.name})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{className:"acc-description",children:t.Operations.desc})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:t.operation_total_hrs})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:t.QuoteOperationWorker&&t.QuoteOperationWorker.length})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:t.operation_cost})}),Object(a.jsxs)("div",{className:"col-sm",children:[Object(a.jsx)("label",{children:t.QuoteOperationInv&&t.QuoteOperationInv.length}),Object(a.jsx)("button",{onClick:e.deleteOperation.bind(e,t.Operations.id,t.Operations.name),className:"btn delete-btn float-right mr-5"})]})]})}),Object(a.jsx)(be.a.Collapse,{eventKey:s+"",children:Object(a.jsxs)(me.a.Body,{children:[t.QuoteOperationInv.length>0&&e.showOperationTools(t.QuoteOperationInv),t.QuoteOperationWorker.length>0&&e.showOperationWorkers(t.QuoteOperationWorker)]})})]},s+"cardKey")}))})]})]})})]})]})}}]),s}(r.Component)),ve=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).state={searchValue:"",selectedItem:[],listitems:[],updateQuotePage:!1,popupConfig:{},isPopupOpen:!1},a.handleClose=function(){a.setState({isPopupOpen:!1})},a.handleModalYes=function(){a.setState({isPopupOpen:!1}),T.deleteQuote(a.state.selectedItem.id).then((function(e){var t=a.state.listitems.filter((function(e){return e.id!==a.state.selectedItem.id}));a.setState({listitems:t,selectedItem:[]})}),(function(e){console.log("Error")}))},a.parentCallback=function(){a.setState({selectedItem:[],updateQuotePage:!1})},a.getAllQuotes(),a}return Object(c.a)(s,[{key:"render",value:function(){return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(Y,{popupConfig:this.state.popupConfig,openFlag:this.state.isPopupOpen,parentCloseCallback:this.handleClose.bind(this),parentConfirmCallback:this.handleModalYes.bind(this)}),this.state.updateQuotePage?Object(a.jsx)(xe,{selectedQuoteId:this.state.selectedItem.id,parentCallback:this.parentCallback}):this.renderQuoteList()]})}},{key:"getAllQuotes",value:function(){var e=this;T.getAllQuotes().then((function(t){t&&e.setState({listitems:t.data.rows})}),(function(e){console.log("Error")}))}},{key:"handleSearchChange",value:function(e){this.setState({searchValue:e.target.value.toLowerCase()})}},{key:"onQuotereqSelected",value:function(e){this.setState({selectedItem:e})}},{key:"showPopup",value:function(e){this.setState({isPopupOpen:!0,popupConfig:{header:"Message",body:e,type:"message"}})}},{key:"deleteQuote",value:function(){this.state.selectedItem&&0===this.state.selectedItem.length?this.showPopup(w):this.setState({isPopupOpen:!0,popupConfig:{header:"Confirm to Delete",body:S+this.state.selectedItem.title,type:"confirmation"}})}},{key:"editQuote",value:function(){this.state.selectedItem&&0===this.state.selectedItem.length?this.showPopup(w):this.setState({updateQuotePage:!0})}},{key:"renderQuoteList",value:function(){var e=this;return Object(a.jsxs)("div",{className:"col admin-list-page",children:[Object(a.jsxs)("div",{className:"list-group-header section-header row",children:[Object(a.jsxs)("div",{className:"col-4",children:[Object(a.jsx)("span",{className:"mb-1 underline",children:"Quote"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Requests"})]}),Object(a.jsxs)("div",{className:"col-8 text-right",children:[Object(a.jsxs)("div",{className:"has-search",children:[Object(a.jsx)("span",{className:"fa fa-search form-control-feedback"}),Object(a.jsx)("input",{type:"text",className:"form-control search-box",placeholder:"Search quote requests...",onChange:this.handleSearchChange.bind(this)})]}),Object(a.jsx)("button",{className:"btn delete-btn",onClick:function(){return e.deleteQuote()}}),Object(a.jsx)("button",{className:"btn edit-btn",onClick:function(){return e.editQuote()}})]})]}),Object(a.jsxs)("div",{className:"quote-req-list",children:[Object(a.jsxs)("div",{className:"row mt-1 quote-req-header",children:[Object(a.jsx)("div",{className:"col-4",children:Object(a.jsx)("label",{children:"Title"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Submitted by"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Received On"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Modified On"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Status"})}),Object(a.jsx)("div",{className:"col-sm text-right",children:Object(a.jsx)("label",{children:"Attachments"})})]}),Object(a.jsx)("div",{className:"quote-req-table",children:this.state.listitems&&this.state.listitems.filter((function(t){return t.title.toLowerCase().includes(e.state.searchValue)})).map((function(t){return Object(a.jsxs)("div",{className:"row mt-1",children:[Object(a.jsx)("div",{className:"col-4",children:Object(a.jsxs)("label",{className:"btn btn-default blue projectname-truncate text-truncate",children:[Object(a.jsx)("input",{type:"radio",className:"toggle",name:"quoteItem",value:t.id,onChange:function(){return e.onQuotereqSelected(t)}}),t.title]})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:t.User.name})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:new Date(t.createdAt).toLocaleDateString()})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:new Date(t.updatedAt).toLocaleDateString()})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("span",{className:"badge "+pe(t.status),children:t.status})}),Object(a.jsx)("div",{className:"col-sm text-right",children:Object(a.jsx)("span",{className:"badge attachment-badge",children:t.Uploads&&t.Uploads.length})})]},t.id)}))})]})]})}}]),s}(r.Component),fe=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(n.a)(this,s);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={item:e.props.selectedItem,editInventoryPage:e.props.editInventoryPage,popupConfig:{},isPopupOpen:!1},e.handleClose=function(){e.setState({isPopupOpen:!1})},e}return Object(c.a)(s,[{key:"handleChange",value:function(e,t){var s=this.state.item;s[e]=t.target.value,this.setState({item:s})}},{key:"saveInventory",value:function(){void 0!==this.state.item.id?this.updateInventory():this.createInventory()}},{key:"updateInventory",value:function(){var e=this,t={itemName:this.state.item.itemName,itemDesc:this.state.item.itemDesc,availability:this.state.item.availability,cost:this.state.item.cost,supplier_email:this.state.item.supplierInfo,operations:[]};T.editInventory(this.state.item.id,t).then((function(t){e.showPopupMessage(t.data.message)}),(function(e){console.log("Error")}))}},{key:"createInventory",value:function(){var e=this,t={itemName:this.state.item.itemName,itemDesc:this.state.item.itemDesc,availability:this.state.item.availability,cost:this.state.item.cost,supplier_email:this.state.item.supplierInfo,operations:[]};T.createInventory(t).then((function(t){e.showPopupMessage(t.data.message)}),(function(e){console.log("Error")}))}},{key:"showPopupMessage",value:function(e){this.setState({isPopupOpen:!0,popupConfig:{header:"Message",body:e,type:"message"}})}},{key:"resetReq",value:function(){}},{key:"handleBreadCrumb",value:function(){this.props.parentCallback()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(Y,{popupConfig:this.state.popupConfig,openFlag:this.state.isPopupOpen,parentCloseCallback:this.handleClose}),Object(a.jsxs)("div",{className:"col edit-inventory",children:[Object(a.jsxs)("div",{className:"list-group-header section-header row",children:[Object(a.jsx)("div",{className:"col-4",children:Object(a.jsx)("nav",{"aria-label":"breadcrumb",children:Object(a.jsxs)("ul",{className:"breadcrumb",children:[Object(a.jsxs)("li",{className:"breadcrumb-item",onClick:this.handleBreadCrumb.bind(this),children:[Object(a.jsx)("span",{className:"mb-1 underline",children:"Manage"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Inventory"})]}),Object(a.jsxs)("li",{className:"breadcrumb-item active","aria-current":"page",children:[Object(a.jsx)("span",{className:"mb-1",children:0!==this.state.item.length?"Edit":"Add"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Inventory"})]})]})})}),Object(a.jsxs)("div",{className:"col-8 text-right",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-blue btn-sm pr-4 pl-4",onClick:function(){return e.resetReq()},children:"Reset"}),Object(a.jsx)("button",{type:"button",className:"btn btn-green btn-sm ml-2 pr-4 pl-4",onClick:function(){return e.saveInventory()},children:"Save"})]})]}),Object(a.jsxs)("div",{className:"blue-box-div row",children:[Object(a.jsxs)("div",{className:"col white-border-right",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Item Name"}),Object(a.jsx)("input",{type:"text",className:"form-control",defaultValue:this.state.item.itemName,onChange:this.handleChange.bind(this,"itemName")})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Description"}),Object(a.jsx)("textarea",{className:"form-control",rows:"3",defaultValue:this.state.item.itemDesc,onChange:this.handleChange.bind(this,"itemDesc")})]}),Object(a.jsxs)("div",{className:"col row",children:[Object(a.jsxs)("div",{className:"col-xs-2",children:[Object(a.jsx)("span",{children:"Availability"}),Object(a.jsx)("input",{type:"number",className:"form-control",defaultValue:this.state.item.availability,onChange:this.handleChange.bind(this,"availability")})]}),Object(a.jsxs)("div",{className:"col-xs-3 ml-4",children:[Object(a.jsx)("span",{children:"Supplier Email"}),Object(a.jsx)("input",{type:"text",className:"form-control d-inline",defaultValue:this.state.item.supplierInfo,onChange:this.handleChange.bind(this,"supplierInfo")})]}),Object(a.jsx)("div",{className:"col-xs-4",children:Object(a.jsx)("a",{className:"btn btn-sm btn-blue m-4 p-2",href:"mailto:someone@yoursite.com",children:"Contact Supplier"})})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Cost"}),Object(a.jsx)("input",{type:"number",className:"form-control",defaultValue:this.state.item.cost,onChange:this.handleChange.bind(this,"cost")})]})]}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsxs)("span",{children:[" ",this.state.item.operations_tagged?"Operatios Tagged":"No Operatios Tagged"]}),Object(a.jsx)("div",{children:this.state.item.operations_tagged&&this.state.item.operations_tagged.map((function(e,t){return Object(a.jsxs)("span",{className:"badge tool-badge",children:["Operation ",t+1," - ",e]})}))})]})]})]})]})}}]),s}(r.Component),ge=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).state={searchValue:"",listitems:[],selectedItem:[],editInventoryPage:!1,popupConfig:{},isPopupOpen:!1},a.handleClose=function(){a.setState({isPopupOpen:!1})},a.handleModalYes=function(){a.setState({isPopupOpen:!1}),T.deleteInventory(a.state.selectedItem.id).then((function(e){var t=a.state.listitems.filter((function(e){return e.id!==a.state.selectedItem.id}));a.setState({listitems:t,selectedItem:[]})}),(function(e){console.log("Error")}))},a.parentCallback=function(){a.setState({editInventoryPage:!1})},a.getAllInventoryList(),a}return Object(c.a)(s,[{key:"getAllInventoryList",value:function(){var e=this;T.getAllInventory().then((function(t){t&&e.setState({listitems:t.data.rows})}),(function(e){console.log("Error")}))}},{key:"handleSearchChange",value:function(e){this.setState({searchValue:e.target.value.toLowerCase()})}},{key:"editInventory",value:function(){this.state.selectedItem&&0===this.state.selectedItem.length?this.setState({isPopupOpen:!0,popupConfig:{header:"Message",body:w,type:"message"}}):this.setState({editInventoryPage:!0})}},{key:"addInventory",value:function(){this.setState({selectedItem:[]}),this.setState({editInventoryPage:!0})}},{key:"deleteInventory",value:function(){this.state.selectedItem&&0===this.state.selectedItem.length?this.setState({isPopupOpen:!0,popupConfig:{header:"Message",body:w,type:"message"}}):this.setState({isPopupOpen:!0,popupConfig:{header:"Confirm to Delete",body:"Are you sure you want to delete "+this.state.selectedItem.itemName,type:"confirmation"}})}},{key:"onInventorySelected",value:function(e){this.setState({selectedItem:e})}},{key:"renderInventoryList",value:function(){var e=this;return Object(a.jsxs)("div",{className:"col admin-list-page",children:[Object(a.jsxs)("div",{className:"list-group-header section-header row",children:[Object(a.jsxs)("div",{className:"col-4",children:[Object(a.jsx)("span",{className:"mb-1 underline",children:"Manage"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Inventory"})]}),Object(a.jsxs)("div",{className:"col-8 text-right",children:[Object(a.jsxs)("div",{className:"has-search",children:[Object(a.jsx)("span",{className:"fa fa-search form-control-feedback"}),Object(a.jsx)("input",{type:"text",className:"form-control search-box",placeholder:"Search quote requests...",onChange:this.handleSearchChange.bind(this)})]}),Object(a.jsx)("button",{className:"btn delete-btn",onClick:function(){return e.deleteInventory()}}),Object(a.jsx)("button",{className:"btn edit-btn",onClick:function(){return e.editInventory()}}),Object(a.jsx)("button",{className:"btn add-btn",onClick:function(){return e.addInventory()}})]})]}),Object(a.jsxs)("div",{className:"quote-req-list",children:[Object(a.jsxs)("div",{className:"row mt-1 quote-req-header",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Item Name"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Description"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Availability"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Operations Taged"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Cost"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Created On"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Modified On"})})]}),Object(a.jsx)("div",{className:"quote-req-table",children:this.state.listitems&&this.state.listitems.filter((function(t){return t.itemName.toLowerCase().includes(e.state.searchValue)})).map((function(t){return Object(a.jsxs)("div",{className:"row mt-1",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsxs)("label",{className:"btn btn-default blue projectname-truncate text-truncate",children:[Object(a.jsx)("input",{type:"radio",className:"toggle",name:"quoteItem",value:t.id,onChange:function(){return e.onInventorySelected(t)}}),t.itemName]})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{className:"description-truncate text-truncate",children:t.itemDesc})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:t.availability})}),Object(a.jsxs)("div",{className:"operation-div col-sm",children:[Object(a.jsx)("label",{className:"operation-text-truncate",children:t.operations_tagged}),Object(a.jsx)("span",{className:"badge badge-light float-right",children:t.operations_tagged&&t.operations_tagged.length})]}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:t.cost})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:new Date(t.createdAt).toLocaleDateString()})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:new Date(t.updatedAt).toLocaleDateString()})})]},t.id)}))})]})]})}},{key:"render",value:function(){return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(Y,{popupConfig:this.state.popupConfig,openFlag:this.state.isPopupOpen,parentCloseCallback:this.handleClose.bind(this),parentConfirmCallback:this.handleModalYes.bind(this)}),this.state.editInventoryPage?Object(a.jsx)(fe,{selectedItem:this.state.selectedItem,parentCallback:this.parentCallback}):this.renderInventoryList()]})}}]),s}(r.Component),Ne=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).state={item:[],toolsList:[],selectedTool:{},showAlert:!1,alertConfig:{variant:"danger"}},a.getOperationById(),a.getAllTools(),a}return Object(c.a)(s,[{key:"getOperationById",value:function(){var e=this;T.getOperationById(this.props.selectedId).then((function(t){e.setState({item:t.data})}),(function(e){console.log("Error")}))}},{key:"getAllTools",value:function(){var e=this;T.getAllInventory().then((function(t){e.setState({toolsList:t.data.rows})}),(function(e){console.log("Error")}))}},{key:"handleChange",value:function(e,t){var s=this.state.item;s[e]=t.target.value,this.setState({item:s})}},{key:"handleToolSelection",value:function(e){var t={Inventories:this.state.toolsList.find((function(t){return t.id==e.target.value})),req_avail:this.state.item.toolRequired};this.setState({selectedTool:t})}},{key:"showAlertMessage",value:function(e){this.setState((function(t){return{alertConfig:Object(u.a)(Object(u.a)({},t.alertConfig),{},{message:e}),showAlert:!0}}))}},{key:"addTools",value:function(e){if(this.state.selectedTool.Inventories&&this.state.item.toolRequired)if(this.setState({showAlert:!1}),this.state.item.id){this.state.selectedTool.req_avail=this.state.item.toolRequired,(t=this.state.item).OperationInventories.push(this.state.selectedTool),this.setState({item:t})}else{var t;(t=this.state.item).OperationInventories||(t.OperationInventories=[]);var s=this.state.item.toolRequired;this.state.selectedTool.req_avail=s,t.OperationInventories.push(this.state.selectedTool),this.setState({item:t})}else this.showAlertMessage("Please select Tools / Materials and add Required quantity")}},{key:"saveOperation",value:function(){console.log(this.state.item);var e=[];this.state.item.OperationWorkers.map((function(t,s){if(t.id){var a={};a.id=t.id,a.required_hrs=t.required_hrs,a.est_cost=t.est_cost,e.push(a)}}));var t=[];this.state.item.OperationInventories.map((function(e,s){if(e.id){var a={};a.id=e.id,a.required_qty=e.required_qty,t.push(a)}}));var s={name:this.state.item.name,desc:this.state.item.desc,items:t,workers:e};void 0!=this.state.item.id?T.editOperation(this.state.item.id,s).then((function(e){console.log(e.data.message)}),(function(e){console.log("Error")})):T.createOperation(s).then((function(e){console.log(e.data.message)}),(function(e){console.log("Error")})),this.props.parentCallback()}},{key:"resetReq",value:function(){}},{key:"handleBreadCrumb",value:function(){this.props.parentCallback()}},{key:"renderToolsList",value:function(){return Object(a.jsxs)("div",{className:"col",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-6",children:Object(a.jsx)("span",{children:"Tools and Materials"})}),Object(a.jsx)("div",{className:"col-6",children:Object(a.jsx)("span",{children:"Required"})})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-6",children:Object(a.jsxs)("select",{className:"form-control",onChange:this.handleToolSelection.bind(this),children:[Object(a.jsx)("option",{children:"Select Tools"}),this.state.toolsList.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.itemName},e.id)}))]})}),Object(a.jsxs)("div",{className:"col-6",children:[Object(a.jsx)("input",{type:"number",className:"form-control col-6 d-inline",onChange:this.handleChange.bind(this,"toolRequired")}),Object(a.jsx)("button",{type:"button",className:"btn btn-green btn-sm ml-2 pr-4 pl-4 d-inline",onClick:this.addTools.bind(this),children:"Add"})]}),Object(a.jsx)("div",{className:"font-italic text-center col-8",children:this.state.showAlert&&Object(a.jsx)(A,{alertConfig:this.state.alertConfig})})]}),Object(a.jsxs)("div",{className:"row mt-1 quote-req-header font-weight-bold",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Tool/Material Name"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Required"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Availability"})})]}),this.state.item.OperationInventories.map((function(e){return Object(a.jsxs)("div",{className:"row mt-1",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:e.Inventories&&e.Inventories.itemName})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:e.req_avail})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:e.Inventories&&e.Inventories.availability})})]})}))]})}},{key:"render",value:function(){var e=this;return Object(a.jsx)(o.a.Fragment,{children:this.state.item&&Object(a.jsxs)("div",{className:"col edit-inventory",children:[Object(a.jsxs)("div",{className:"list-group-header section-header row",children:[Object(a.jsx)("div",{className:"col-4",children:Object(a.jsx)("nav",{"aria-label":"breadcrumb",children:Object(a.jsxs)("ul",{className:"breadcrumb",children:[Object(a.jsxs)("li",{className:"breadcrumb-item",onClick:this.handleBreadCrumb.bind(this),children:[Object(a.jsx)("span",{className:"mb-1 underline",children:"Manage"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Operation"})]}),Object(a.jsxs)("li",{className:"breadcrumb-item active","aria-current":"page",children:[Object(a.jsx)("span",{className:"mb-1",children:0!==this.state.item.length?"Edit":"Add"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Operation"})]})]})})}),Object(a.jsxs)("div",{className:"col-8 text-right",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-blue btn-sm pr-4 pl-4",onClick:function(){return e.resetReq()},children:"Reset"}),Object(a.jsx)("button",{type:"button",className:"btn btn-green btn-sm ml-2 pr-4 pl-4",onClick:function(){return e.saveOperation()},children:"Save"})]})]}),Object(a.jsxs)("div",{className:"blue-box-div row",children:[Object(a.jsxs)("div",{className:"col-4 white-border-right",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Operation Name"}),Object(a.jsx)("input",{type:"text",className:"form-control",defaultValue:this.state.item.name,onChange:this.handleChange.bind(this,"name")})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Description"}),Object(a.jsx)("textarea",{className:"form-control",rows:"3",defaultValue:this.state.item.desc,onChange:this.handleChange.bind(this,"desc")})]})]}),this.state.item.OperationInventories&&this.renderToolsList()]})]})})}}]),s}(r.Component),Ce=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).state={searchValue:"",listitems:[],selectedItem:[],editOperationPage:!1,popupConfig:{},isPopupOpen:!1},a.handleClose=function(){a.setState({isPopupOpen:!1})},a.handleModalYes=function(){a.setState({isPopupOpen:!1}),T.deleteOperation(a.state.selectedItem.id).then((function(e){var t=a.state.listitems.filter((function(e){return e.id!==a.state.selectedItem.id}));a.setState({listitems:t,selectedItem:[]})}),(function(e){console.log("Error")}))},a.parentCallback=function(){a.setState({selectedItem:[]}),a.setState({editOperationPage:!1})},a.getAllOperationList(),a}return Object(c.a)(s,[{key:"getAllOperationList",value:function(){var e=this;T.getAllOperations().then((function(t){e.setState({listitems:t.data.rows})}),(function(e){console.log("Error")}))}},{key:"handleSearchChange",value:function(e){this.setState({searchValue:e.target.value.toLowerCase()})}},{key:"editOperations",value:function(){this.state.selectedItem&&0===this.state.selectedItem.length?this.setState({isPopupOpen:!0,popupConfig:{header:"Message",body:w,type:"message"}}):this.setState({editOperationPage:!0})}},{key:"deleteOperations",value:function(){this.state.selectedItem&&0===this.state.selectedItem.length?this.setState({isPopupOpen:!0,popupConfig:{header:"Message",body:w,type:"message"}}):this.setState({isPopupOpen:!0,popupConfig:{header:"Confirm to Delete",body:"Are you sure you want to delete "+this.state.selectedItem.name,type:"confirmation"}})}},{key:"addOperations",value:function(){this.setState({selectedItem:[]}),this.setState({editOperationPage:!0})}},{key:"onOperationSelected",value:function(e){this.setState({selectedItem:e})}},{key:"renderOperationsList",value:function(){var e=this;return Object(a.jsxs)("div",{className:"col admin-list-page",id:"operations-page",children:[Object(a.jsxs)("div",{className:"list-group-header section-header row",children:[Object(a.jsxs)("div",{className:"col-4",children:[Object(a.jsx)("span",{className:"mb-1 underline",children:"Manage"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Operations"})]}),Object(a.jsxs)("div",{className:"col-8 text-right",children:[Object(a.jsxs)("div",{className:"has-search",children:[Object(a.jsx)("span",{className:"fa fa-search form-control-feedback"}),Object(a.jsx)("input",{type:"text",className:"form-control search-box",placeholder:"Search operations...",onChange:this.handleSearchChange.bind(this)})]}),Object(a.jsx)("button",{className:"btn delete-btn",onClick:function(){return e.deleteOperations()}}),Object(a.jsx)("button",{className:"btn edit-btn",onClick:function(){return e.editOperations()}}),Object(a.jsx)("button",{className:"btn add-btn",onClick:function(){return e.addOperations()}})]})]}),Object(a.jsxs)("div",{className:"quote-req-list",children:[Object(a.jsxs)("div",{className:"row mt-1 quote-req-header",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Operation Name"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Description"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Tools & Materials Required "})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Created On"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Modified On"})})]}),Object(a.jsx)("div",{className:"quote-req-table",children:this.state.listitems&&this.state.listitems.filter((function(t){return t.name.toLowerCase().includes(e.state.searchValue)})).map((function(t){return Object(a.jsxs)("div",{className:"row mt-1",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsxs)("label",{className:"btn btn-default blue projectname-truncate text-truncate",children:[Object(a.jsx)("input",{type:"radio",className:"toggle",name:"operationItem",value:t.id,onChange:function(){return e.onOperationSelected(t)}}),t.name]})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{className:"description-truncate text-truncate",children:t.desc})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsxs)("label",{className:"description-truncate text-truncate",children:[Object(a.jsx)("span",{className:"badge date-badge mr-2",children:t.toolsRequired.length}),t.toolsRequired.toString()]})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:new Date(t.createdAt).toLocaleDateString()})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:new Date(t.updatedAt).toLocaleDateString()})})]},t.id)}))})]})]})}},{key:"render",value:function(){return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(Y,{popupConfig:this.state.popupConfig,openFlag:this.state.isPopupOpen,parentCloseCallback:this.handleClose.bind(this),parentConfirmCallback:this.handleModalYes.bind(this)}),this.state.editOperationPage?Object(a.jsx)(Ne,{selectedId:this.state.selectedItem.id,parentCallback:this.parentCallback}):this.renderOperationsList()]})}}]),s}(r.Component),ke=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(n.a)(this,s);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={item:e.props.selectedItem,editWorkerPage:e.props.editWorkerPage},e}return Object(c.a)(s,[{key:"handleChange",value:function(e,t){var s=this.state.item;s[e]=t.target.value,this.setState({item:s})}},{key:"saveWorker",value:function(){void 0!==this.state.item.id?this.editWorker():this.createWorker()}},{key:"editWorker",value:function(){var e=this,t={name:this.state.item.name,phone:this.state.item.phone,address:this.state.item.address,email:this.state.item.email,avail_per_day:this.state.item.avail_per_day,cost_per_hr:this.state.item.cost_per_hr,total_avail_per_week:this.state.item.total_avail_per_week,professionId:this.state.item.professionId};T.editWorker(this.state.item.id,t).then((function(t){e.props.parentCallback(t.data.message)}),(function(e){console.log("Error")}))}},{key:"createWorker",value:function(){var e=this;console.log(this.state.item);var t={name:this.state.item.name,phone:this.state.item.phone,address:this.state.item.address,email:this.state.item.email,avail_per_day:this.state.item.avail_per_day,cost_per_hr:this.state.item.cost_per_hr,total_avail_per_week:this.state.item.total_avail_per_week,professionId:this.state.item.professionId};T.createWorker(t).then((function(t){e.props.parentCallback(t.data.message)}),(function(e){console.log("Error")}))}},{key:"resetReq",value:function(){}},{key:"handleBreadCrumb",value:function(){this.props.parentCallback()}},{key:"render",value:function(){var e=this;return Object(a.jsx)(o.a.Fragment,{children:Object(a.jsxs)("div",{className:"col edit-worker",children:[Object(a.jsxs)("div",{className:"list-group-header section-header row",children:[Object(a.jsx)("div",{className:"col-4",children:Object(a.jsx)("nav",{"aria-label":"breadcrumb",children:Object(a.jsxs)("ul",{className:"breadcrumb",children:[Object(a.jsxs)("li",{className:"breadcrumb-item",onClick:this.handleBreadCrumb.bind(this),children:[Object(a.jsx)("span",{className:"mb-1 underline",children:"Manage"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Worker"})]}),Object(a.jsxs)("li",{className:"breadcrumb-item active","aria-current":"page",children:[Object(a.jsx)("span",{className:"mb-1",children:0!==this.state.item.length?"Edit":"Add"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Worker"})]})]})})}),Object(a.jsxs)("div",{className:"col-8 text-right",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-blue btn-sm pr-4 pl-4",onClick:function(){return e.resetReq()},children:"Reset"}),Object(a.jsx)("button",{type:"button",className:"btn btn-green btn-sm ml-2 pr-4 pl-4",onClick:function(){return e.saveWorker()},children:"Save"})]})]}),Object(a.jsxs)("div",{className:"blue-box-div row",children:[Object(a.jsxs)("div",{className:"col white-border-right",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Worker Name"}),Object(a.jsx)("input",{type:"text",className:"form-control",defaultValue:this.state.item.name,onChange:this.handleChange.bind(this,"name")})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Phone"}),Object(a.jsx)("input",{type:"text",className:"form-control",defaultValue:this.state.item.phone,onChange:this.handleChange.bind(this,"phone")})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Address"}),Object(a.jsx)("textarea",{className:"form-control",rows:"3",defaultValue:this.state.item.address,onChange:this.handleChange.bind(this,"address")})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Email"}),Object(a.jsx)("input",{type:"text",className:"form-control",defaultValue:this.state.item.email,onChange:this.handleChange.bind(this,"email")})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Available per Day"}),Object(a.jsx)("input",{type:"number",className:"form-control",defaultValue:this.state.item.avail_per_day,onChange:this.handleChange.bind(this,"avail_per_day")})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Cost per Hour"}),Object(a.jsx)("input",{type:"number",className:"form-control",defaultValue:this.state.item.cost_per_hr,onChange:this.handleChange.bind(this,"cost_per_hr")})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Total Avalability per Week"}),Object(a.jsx)("input",{type:"number",className:"form-control",defaultValue:this.state.item.total_avail_per_week,onChange:this.handleChange.bind(this,"total_avail_per_week")})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Profession"}),Object(a.jsxs)("select",{className:"form-control",defaultValue:this.state.item.professionId,onChange:this.handleChange.bind(this,"professionId"),children:[Object(a.jsx)("option",{selected:!0,children:"Select a Profession"}),Object(a.jsx)("option",{value:"1",children:"Engineer"}),Object(a.jsx)("option",{value:"2",children:"Painter"})]})]})]}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsxs)("span",{children:[" ",this.state.item.operations_tagged?"Operatios Tagged":"No Operatios Tagged"]}),Object(a.jsx)("div",{children:this.state.item.operations_tagged&&this.state.item.operations_tagged.map((function(e,t){return Object(a.jsxs)("span",{className:"badge tool-badge",children:["Operation ",t+1," - ",e]})}))})]})]})]})})}}]),s}(r.Component),ye=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).state={searchValue:"",listitems:[],selectedItem:[],editWorkerPage:!1,popupConfig:{},isPopupOpen:!1},a.handleClose=function(){a.setState({isPopupOpen:!1})},a.handleModalYes=function(){a.setState({isPopupOpen:!1}),T.deleteWorker(a.state.selectedItem.id).then((function(e){var t=a.state.listitems.filter((function(e){return e.id!==a.state.selectedItem.id}));a.setState({listitems:t,selectedItem:[]}),a.showPopup(e.data.message)}),(function(e){console.log("Error")}))},a.parentCallback=function(e){e&&a.showPopup(e),a.setState({editWorkerPage:!1})},a.getAllWorkerList(),a}return Object(c.a)(s,[{key:"getAllWorkerList",value:function(){var e=this;T.getAllWorkers().then((function(t){t&&e.setState({listitems:t.data.rows})}),(function(e){console.log("Error")}))}},{key:"handleSearchChange",value:function(e){this.setState({searchValue:e.target.value.toLowerCase()})}},{key:"editWorker",value:function(){this.state.selectedItem&&0===this.state.selectedItem.length?this.showPopup(w):this.setState({editWorkerPage:!0})}},{key:"addWorker",value:function(){this.setState({selectedItem:[]}),this.setState({editWorkerPage:!0})}},{key:"deleteWorker",value:function(){this.state.selectedItem&&0===this.state.selectedItem.length?this.showPopup(w):this.setState({isPopupOpen:!0,popupConfig:{header:"Confirm to Delete",body:"Are you sure you want to delete "+this.state.selectedItem.name,type:"confirmation"}})}},{key:"onWorkerSelected",value:function(e){this.setState({selectedItem:e})}},{key:"showPopup",value:function(e){this.setState({isPopupOpen:!0,popupConfig:{header:"Message",body:e,type:"message"}})}},{key:"renderWorkerList",value:function(){var e=this;return Object(a.jsxs)("div",{className:"col admin-list-page",children:[Object(a.jsxs)("div",{className:"list-group-header section-header row",children:[Object(a.jsxs)("div",{className:"col-4",children:[Object(a.jsx)("span",{className:"mb-1 underline",children:"Manage"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Worker"})]}),Object(a.jsxs)("div",{className:"col-8 text-right",children:[Object(a.jsxs)("div",{className:"has-search",children:[Object(a.jsx)("span",{className:"fa fa-search form-control-feedback"}),Object(a.jsx)("input",{type:"text",className:"form-control search-box",placeholder:"Search worker...",onChange:this.handleSearchChange.bind(this)})]}),Object(a.jsx)("button",{className:"btn delete-btn",onClick:function(){return e.deleteWorker()}}),Object(a.jsx)("button",{className:"btn edit-btn",onClick:function(){return e.editWorker()}}),Object(a.jsx)("button",{className:"btn add-btn",onClick:function(){return e.addWorker()}})]})]}),Object(a.jsxs)("div",{className:"quote-req-list",children:[Object(a.jsxs)("div",{className:"row mt-1 quote-req-header",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Worker Name"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Phone"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Address"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Email"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Cost per Hour"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Availability per Week"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Created On"})})]}),Object(a.jsx)("div",{className:"quote-req-table",children:this.state.listitems.filter((function(t){return t.name&&t.name.toLowerCase().includes(e.state.searchValue)})).map((function(t){return Object(a.jsxs)("div",{className:"row mt-1",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsxs)("label",{className:"btn btn-default blue projectname-truncate text-truncate",children:[Object(a.jsx)("input",{type:"radio",className:"toggle",name:"quoteItem",value:t.email,onChange:function(){return e.onWorkerSelected(t)}}),t.name]})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{className:"description-truncate text-truncate",children:t.phone})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{className:"description-truncate text-truncate",children:t.address})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:t.email})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:t.cost_per_hr})}),Object(a.jsx)("div",{className:"operation-div col-sm",children:Object(a.jsx)("label",{children:t.total_avail_per_week})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:new Date(t.createdAt).toLocaleDateString()})})]},t.email)}))})]})]})}},{key:"render",value:function(){return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(Y,{popupConfig:this.state.popupConfig,openFlag:this.state.isPopupOpen,parentCloseCallback:this.handleClose.bind(this),parentConfirmCallback:this.handleModalYes.bind(this)}),this.state.editWorkerPage?Object(a.jsx)(ke,{selectedItem:this.state.selectedItem,parentCallback:this.parentCallback}):this.renderWorkerList()]})}}]),s}(r.Component),Ie=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).state={item:a.props.selectedItem,workerList:[],selectedWorker:{},popupConfig:{},isPopupOpen:!1},a.handleClose=function(){a.setState({isPopupOpen:!1})},a.getAllWorkers(),a}return Object(c.a)(s,[{key:"handleChange",value:function(e,t){var s=this.state.item;s[e]=t.target.value,this.setState({item:s})}},{key:"handleDateChange",value:function(e,t){var s=this.state.item;s[e]=new Date(t),this.setState({item:s})}},{key:"showPopupMessage",value:function(e){this.setState({isPopupOpen:!0,popupConfig:{header:"Message",body:e,type:"message"}})}},{key:"saveProject",value:function(){var e=this,t={name:this.state.item.name,desc:this.state.item.desc,startDate:this.state.item.start_date,endDate:this.state.item.end_date,workers:this.state.item.workers};T.editProject(this.state.item.id,t).then((function(t){e.showPopupMessage(t.data.message),e.props.parentCallback()}),(function(e){console.log("Error")}))}},{key:"resetReq",value:function(){}},{key:"handleBreadCrumb",value:function(){this.props.parentCallback()}},{key:"getAllWorkers",value:function(){var e=this;T.getAllWorkers().then((function(t){e.setState({workerList:t.data.rows})}),(function(e){console.log("Error")}))}},{key:"statusChange",value:function(e){var t=this;T.changeProjectStatus(this.state.item.id,{status:"CLOSED"}).then((function(e){t.showPopupMessage(e.data.message)}),(function(e){console.log("Error")}))}},{key:"handleWorkerSelection",value:function(e){this.state.selectedWorker=this.state.workerList.find((function(t){return t.id==e.target.value}))}},{key:"addWorker",value:function(e){this.state.selectedWorker.required_hrs=this.state.item.workerRequired;var t=this.state.item;t.workers||(t.workers=[]),t.workers.push(this.state.selectedWorker),this.setState({item:t}),console.log(this.state.item)}},{key:"render",value:function(){var e=this;return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsxs)("div",{className:"col edit-inventory",children:[Object(a.jsxs)("div",{className:"list-group-header section-header row",children:[Object(a.jsx)("div",{className:"col-4",children:Object(a.jsx)("nav",{"aria-label":"breadcrumb",children:Object(a.jsxs)("ul",{className:"breadcrumb",children:[Object(a.jsxs)("li",{className:"breadcrumb-item",onClick:this.handleBreadCrumb.bind(this),children:[Object(a.jsx)("span",{className:"mb-1 underline",children:"Manage"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Project"})]}),Object(a.jsxs)("li",{className:"breadcrumb-item active","aria-current":"page",children:[Object(a.jsx)("span",{className:"mb-1",children:0!==this.state.item.length?"Edit":"Add"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Project"})]})]})})}),Object(a.jsxs)("div",{className:"col-8 text-right",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-blue btn-sm pr-4 pl-4",onClick:function(){return e.resetReq()},children:"Reset"}),Object(a.jsx)("button",{type:"button",className:"btn btn-green btn-sm ml-2 pr-4 pl-4",onClick:function(){return e.saveProject()},children:"Save"})]})]}),Object(a.jsxs)("div",{className:"blue-box-div row",children:[Object(a.jsxs)("div",{className:"col white-border-right",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Project Name"}),Object(a.jsx)("input",{type:"text",className:"form-control",defaultValue:this.state.item.name,onChange:this.handleChange.bind(this,"name")})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Description"}),Object(a.jsx)("textarea",{className:"form-control",rows:"3",defaultValue:this.state.item.desc,onChange:this.handleChange.bind(this,"desc")})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Start Date"}),Object(a.jsx)(le.a,{selected:new Date(this.state.item.start_date),onChange:this.handleDateChange.bind(this,"start_date"),className:"form-control",minDate:new Date})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"End Date"}),Object(a.jsx)(le.a,{selected:new Date(this.state.item.end_date),onChange:this.handleDateChange.bind(this,"end_date"),className:"form-control",minDate:new Date(this.state.item.start_date)})]})]}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("span",{children:"Worker"})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("span",{children:"Required Hours"})})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("select",{className:"form-control",onChange:this.handleWorkerSelection.bind(this),children:[Object(a.jsx)("option",{selected:!0,children:"Select Worker"}),this.state.workerList.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))]})}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("input",{type:"number",className:"form-control col-2 d-inline",onChange:this.handleChange.bind(this,"workerRequired")}),Object(a.jsx)("button",{type:"button",className:"btn btn-green btn-sm ml-2 pr-4 pl-4 d-inline",onClick:this.addWorker.bind(this),children:"Add"})]})]}),Object(a.jsxs)("div",{className:"row mt-1 quote-req-header font-weight-bold",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Name"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Profession"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Available Hours "})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Required Hours"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Cost per hour"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Estimated Cost"})})]}),this.state.item.workers&&this.state.item.workers.map((function(e){return Object(a.jsxs)("div",{className:"row mt-1",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{className:"description-truncate text-truncate",children:e.name})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:e.name})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:e.avail_per_day})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:e.required_hrs})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:e.cost_per_hr})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:e.cost_per_hr*e.required_hrs})})]})})),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("button",{type:"button",className:"btn btn-green btn-sm m-4 pr-4 pl-4 d-inline",onClick:this.statusChange.bind(this),children:"Project Completed"})})]})]})]}),Object(a.jsx)(Y,{popupConfig:this.state.popupConfig,openFlag:this.state.isPopupOpen,parentCloseCallback:this.handleClose})]})}}]),s}(r.Component),we=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).state={searchValue:"",listitems:[],selectedItem:[],editProjectPage:!1,popupConfig:{},isPopupOpen:!1},a.handleClose=function(){a.setState({isPopupOpen:!1})},a.handleModalYes=function(){a.setState({isPopupOpen:!1}),T.deleteProject(a.state.selectedItem.id).then((function(e){var t=a.state.listitems.filter((function(e){return e.id!==a.state.selectedItem.id}));a.setState({listitems:t,selectedItem:[]})}),(function(e){console.log("Error")}))},a.parentCallback=function(){a.setState({selectedItem:[]}),a.setState({editProjectPage:!1})},a.getAllProjectList(),a}return Object(c.a)(s,[{key:"getAllProjectList",value:function(){var e=this;T.getAllProjects().then((function(t){t&&e.setState({listitems:t.data.projects})}),(function(e){console.log("Error")}))}},{key:"handleSearchChange",value:function(e){this.setState({searchValue:e.target.value.toLowerCase()})}},{key:"editProjects",value:function(){this.state.selectedItem&&0===this.state.selectedItem.length?this.setState({isPopupOpen:!0,popupConfig:{header:"Message",body:w,type:"message"}}):this.setState({editProjectPage:!0})}},{key:"deleteProjects",value:function(){this.state.selectedItem&&0===this.state.selectedItem.length?this.setState({isPopupOpen:!0,popupConfig:{header:"Message",body:w,type:"message"}}):this.setState({isPopupOpen:!0,popupConfig:{header:"Confirm to Delete",body:"Are you sure you want to delete "+this.state.selectedItem.name,type:"confirmation"}})}},{key:"onProjectSelected",value:function(e){this.setState({selectedItem:e})}},{key:"getNumberOfDays",value:function(e,t){var s=new Date(e),a=new Date(t).getTime()-s.getTime();return Math.round(a/864e5)}},{key:"renderProjectList",value:function(){var e=this;return Object(a.jsxs)("div",{className:"col admin-list-page",id:"projects-page",children:[Object(a.jsxs)("div",{className:"list-group-header section-header row",children:[Object(a.jsxs)("div",{className:"col-4",children:[Object(a.jsx)("span",{className:"mb-1 underline",children:"Manage"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Projects"})]}),Object(a.jsxs)("div",{className:"col-8 text-right",children:[Object(a.jsxs)("div",{className:"has-search",children:[Object(a.jsx)("span",{className:"fa fa-search form-control-feedback"}),Object(a.jsx)("input",{type:"text",className:"form-control search-box",placeholder:"Search quote requests...",onChange:this.handleSearchChange.bind(this)})]}),Object(a.jsx)("button",{className:"btn delete-btn",onClick:function(){return e.deleteProjects()}}),Object(a.jsx)("button",{className:"btn edit-btn",onClick:function(){return e.editProjects()}})]})]}),Object(a.jsxs)("div",{className:"quote-req-list",children:[Object(a.jsxs)("div",{className:"row mt-1 quote-req-header",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Project Name"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Description"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Days Commited"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Days Left"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Start Date"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"End Date"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Status"})})]}),Object(a.jsx)("div",{className:"quote-req-table",children:this.state.listitems.filter((function(t){return t.name.toLowerCase().includes(e.state.searchValue)})).map((function(t){return Object(a.jsxs)("div",{className:"row mt-1",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsxs)("label",{className:"btn btn-default blue projectname-truncate text-truncate",children:[Object(a.jsx)("input",{type:"radio",className:"toggle",name:"projectItem",value:t.id,onChange:function(){return e.onProjectSelected(t)}}),t.name]})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{className:"description-truncate text-truncate",children:t.desc})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:e.getNumberOfDays(t.start_date,t.end_date)})}),Object(a.jsx)("div",{className:"col-sm",children:new Date(t.start_date)<new Date?Object(a.jsx)("label",{children:e.getNumberOfDays(new Date,t.end_date)}):Object(a.jsx)("label",{children:e.getNumberOfDays(t.start_date,t.end_date)})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:new Date(t.start_date).toLocaleDateString()})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:new Date(t.end_date).toLocaleDateString()})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{className:"badge "+pe(t.status),children:t.status})})]},t.id)}))})]})]})}},{key:"render",value:function(){return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(Y,{popupConfig:this.state.popupConfig,openFlag:this.state.isPopupOpen,parentCloseCallback:this.handleClose.bind(this),parentConfirmCallback:this.handleModalYes.bind(this)}),this.state.editProjectPage?Object(a.jsx)(Ie,{selectedItem:this.state.selectedItem,parentCallback:this.parentCallback}):this.renderProjectList()]})}}]),s}(r.Component),Se=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(n.a)(this,s);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={item:e.props.selectedItem,editCustomerPage:e.props.editCustomerPage},e}return Object(c.a)(s,[{key:"handleChange",value:function(e,t){var s=this.state.item;s[e]=t.target.value,this.setState({item:s})}},{key:"saveCustomer",value:function(){void 0!==this.state.item.id&&this.editCustomer(),this.props.parentCallback()}},{key:"editCustomer",value:function(){var e={name:this.state.item.name,email:this.state.item.email,phone:this.state.item.phone,address:this.state.item.address};T.editCustomer(this.state.item.id,e).then((function(e){console.log(e),alert(e.data.message)}),(function(e){console.log("Error")}))}},{key:"resetReq",value:function(){}},{key:"handleBreadCrumb",value:function(){this.props.parentCallback()}},{key:"render",value:function(){var e=this;return Object(a.jsx)(o.a.Fragment,{children:Object(a.jsxs)("div",{className:"col edit-customer",children:[Object(a.jsxs)("div",{className:"list-group-header section-header row",children:[Object(a.jsx)("div",{className:"col-4",children:Object(a.jsx)("nav",{"aria-label":"breadcrumb",children:Object(a.jsxs)("ul",{className:"breadcrumb",children:[Object(a.jsxs)("li",{className:"breadcrumb-item",onClick:this.handleBreadCrumb.bind(this),children:[Object(a.jsx)("span",{className:"mb-1 underline",children:"Manage"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Customer"})]}),Object(a.jsxs)("li",{className:"breadcrumb-item active","aria-current":"page",children:[Object(a.jsx)("span",{className:"mb-1",children:0!==this.state.item.length?"Edit":"Add"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Customer"})]})]})})}),Object(a.jsxs)("div",{className:"col-8 text-right",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-blue btn-sm pr-4 pl-4",onClick:function(){return e.resetReq()},children:"Reset"}),Object(a.jsx)("button",{type:"button",className:"btn btn-green btn-sm ml-2 pr-4 pl-4",onClick:function(){return e.saveCustomer()},children:"Save"})]})]}),Object(a.jsx)("div",{className:"blue-box-div row",children:Object(a.jsxs)("div",{className:"col",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Customer Name"}),Object(a.jsx)("input",{type:"text",className:"form-control",defaultValue:this.state.item.name,onChange:this.handleChange.bind(this,"name")})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Phone"}),Object(a.jsx)("input",{type:"text",className:"form-control",defaultValue:this.state.item.phone,onChange:this.handleChange.bind(this,"phone")})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Address"}),Object(a.jsx)("textarea",{className:"form-control",rows:"3",defaultValue:this.state.item.address,onChange:this.handleChange.bind(this,"address")})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Email"}),Object(a.jsx)("input",{type:"text",className:"form-control",defaultValue:this.state.item.email,onChange:this.handleChange.bind(this,"email")})]})]})})]})})}}]),s}(r.Component),Pe=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).state={searchValue:"",listitems:[],selectedItem:[],editCustomerPage:!1,popupConfig:{},isPopupOpen:!1},a.handleClose=function(){a.setState({isPopupOpen:!1})},a.handleModalYes=function(){a.setState({isPopupOpen:!1}),T.deleteCustomer(a.state.selectedItem.id).then((function(e){var t=a.state.listitems.filter((function(e){return e.id!==a.state.selectedItem.id}));a.setState({listitems:t,selectedItem:[]})}),(function(e){console.log("Error")}))},a.parentCallback=function(){a.setState({editCustomerPage:!1})},a.getAllCustomerList(),a}return Object(c.a)(s,[{key:"getAllCustomerList",value:function(){var e=this;T.getAllCustomers().then((function(t){t&&e.setState({listitems:t.data.rows})}),(function(e){console.log("Error")}))}},{key:"handleSearchChange",value:function(e){this.setState({searchValue:e.target.value.toLowerCase()})}},{key:"editCustomer",value:function(){this.state.selectedItem&&0===this.state.selectedItem.length?this.setState({isPopupOpen:!0,popupConfig:{header:"Message",body:w,type:"message"}}):this.setState({editCustomerPage:!0})}},{key:"deleteCustomer",value:function(){this.state.selectedItem&&0===this.state.selectedItem.length?this.setState({isPopupOpen:!0,popupConfig:{header:"Message",body:w,type:"message"}}):this.setState({isPopupOpen:!0,popupConfig:{header:"Confirm to Delete",body:"Are you sure you want to delete "+this.state.selectedItem.name,type:"confirmation"}})}},{key:"onCustomerSelected",value:function(e){this.setState({selectedItem:e})}},{key:"renderCustomerList",value:function(){var e=this;return Object(a.jsxs)("div",{className:"col admin-list-page",children:[Object(a.jsxs)("div",{className:"list-group-header section-header row",children:[Object(a.jsxs)("div",{className:"col-4",children:[Object(a.jsx)("span",{className:"mb-1 underline",children:"Manage"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Customer"})]}),Object(a.jsxs)("div",{className:"col-8 text-right",children:[Object(a.jsxs)("div",{className:"has-search",children:[Object(a.jsx)("span",{className:"fa fa-search form-control-feedback"}),Object(a.jsx)("input",{type:"text",className:"form-control search-box",placeholder:"Search Customer...",onChange:this.handleSearchChange.bind(this)})]}),Object(a.jsx)("button",{className:"btn delete-btn",onClick:function(){return e.deleteCustomer()}}),Object(a.jsx)("button",{className:"btn edit-btn",onClick:function(){return e.editCustomer()}})]})]}),Object(a.jsxs)("div",{className:"quote-req-list",children:[Object(a.jsxs)("div",{className:"row mt-1 quote-req-header",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Customer Name"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Phone"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Address"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Email"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"No of Request"})})]}),Object(a.jsx)("div",{className:"quote-req-table",children:this.state.listitems.filter((function(t){return t.name.toLowerCase().includes(e.state.searchValue)})).map((function(t){return Object(a.jsxs)("div",{className:"row mt-1",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsxs)("label",{className:"btn btn-default blue projectname-truncate text-truncate",children:[Object(a.jsx)("input",{type:"radio",className:"toggle",name:"quoteItem",value:t.id,onChange:function(){return e.onCustomerSelected(t)}}),t.name]})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{className:"description-truncate text-truncate",children:t.phone})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:t.address})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:t.email})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:t.Quotes})})]},t.id)}))})]})]})}},{key:"render",value:function(){return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(Y,{popupConfig:this.state.popupConfig,openFlag:this.state.isPopupOpen,parentCloseCallback:this.handleClose.bind(this),parentConfirmCallback:this.handleModalYes.bind(this)}),this.state.editCustomerPage?Object(a.jsx)(Se,{selectedItem:this.state.selectedItem,parentCallback:this.parentCallback}):this.renderCustomerList()]})}}]),s}(r.Component),qe=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).state={selectedItem:[],editInspectionPage:!1,popupConfig:{},isPopupOpen:!1},a.handleClose=function(){a.setState({isPopupOpen:!1})},a.handleModalYes=function(){a.setState({isPopupOpen:!1}),T.deleteInspection(a.state.selectedItem.id).then((function(e){a.showPopup(e.data.message);var t=a.state.listitems.filter((function(e){return e.id!==a.state.selectedItem.id}));a.setState({listitems:t,selectedItem:[]})}),(function(e){console.log("Error")}))},a.parentCallback=function(){a.setState({editInspectionPage:!1})},a.getAllInspectionList(),a}return Object(c.a)(s,[{key:"getAllInspectionList",value:function(){var e=this;T.getAllInspection().then((function(t){t&&e.setState({listitems:t.data.inspections.rows})}),(function(e){console.log("Error")}))}},{key:"editInspection",value:function(){this.state.selectedItem&&0===this.state.selectedItem.length?this.showPopup(w):this.setState({editInspectionPage:!0})}},{key:"addInspection",value:function(){this.setState({selectedItem:[]}),this.setState({editInspectionPage:!0})}},{key:"deleteInspection",value:function(){this.state.selectedItem&&0===this.state.selectedItem.length?this.showPopup(w):this.setState({isPopupOpen:!0,popupConfig:{header:"Confirm to Delete",body:S+this.state.selectedItem.name,type:"confirmation"}})}},{key:"onInspectionSelected",value:function(e){this.setState({selectedItem:e})}},{key:"handleFormChange",value:function(e,t){}},{key:"saveTaxUpdate",value:function(){}},{key:"handleBreadCrumb",value:function(){this.setState({editInspectionPage:!1})}},{key:"handleChange",value:function(e,t){var s=this.state.selectedItem;s[e]=t.target.value,this.setState({selectedItem:s})}},{key:"showPopup",value:function(e){this.setState({isPopupOpen:!0,popupConfig:{header:"Message",body:e,type:"message"}})}},{key:"saveInspection",value:function(){var e=this;if(void 0!==this.state.selectedItem.id){var t={name:this.state.selectedItem.name,cost:parseInt(this.state.selectedItem.cost),desc:this.state.selectedItem.desc};T.editInspection(this.state.selectedItem.id,t).then((function(t){t&&e.showPopup(t.data.message)}),(function(e){console.log("Error")}))}else{t={name:this.state.selectedItem.name,cost:parseInt(this.state.selectedItem.cost),desc:this.state.selectedItem.desc};T.createInspection(t).then((function(t){t&&e.showPopup(t.data.message)}),(function(e){console.log("Error")}))}}},{key:"renderEditInspection",value:function(){var e=this;return Object(a.jsxs)("div",{className:"col edit-customer",children:[Object(a.jsxs)("div",{className:"list-group-header section-header row",children:[Object(a.jsx)("div",{className:"col-6",children:Object(a.jsx)("nav",{"aria-label":"breadcrumb",children:Object(a.jsxs)("ul",{className:"breadcrumb",children:[Object(a.jsxs)("li",{className:"breadcrumb-item",onClick:this.handleBreadCrumb.bind(this),children:[Object(a.jsx)("span",{className:"mb-1 underline",children:"Manage"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Inspection"})]}),Object(a.jsxs)("li",{className:"breadcrumb-item active","aria-current":"page",children:[Object(a.jsx)("span",{className:"mb-1",children:0!==this.state.selectedItem.length?"Edit":"Add"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Customer"})]})]})})}),Object(a.jsxs)("div",{className:"col-6 text-right",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-blue btn-sm pr-4 pl-4",children:"Reset"}),Object(a.jsx)("button",{type:"button",className:"btn btn-green btn-sm ml-2 pr-4 pl-4",onClick:function(){return e.saveInspection()},children:"Save"})]})]}),Object(a.jsx)("div",{className:"blue-box-div row",children:Object(a.jsxs)("div",{className:"col",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Inspection Name"}),Object(a.jsx)("input",{type:"text",className:"form-control",defaultValue:this.state.selectedItem.name,onChange:this.handleChange.bind(this,"name")})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Description"}),Object(a.jsx)("textarea",{className:"form-control",rows:"3",defaultValue:this.state.selectedItem.desc,onChange:this.handleChange.bind(this,"desc")})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Cost"}),Object(a.jsx)("input",{type:"number",className:"form-control",defaultValue:this.state.selectedItem.cost,onChange:this.handleChange.bind(this,"cost")})]})]})})]})}},{key:"renderTax",value:function(){var e=this;return Object(a.jsxs)("div",{className:"col admin-list-page",children:[Object(a.jsx)("div",{className:"list-group-header section-header row",children:Object(a.jsxs)("div",{className:"col-3",children:[Object(a.jsx)("span",{className:"mb-1 underline",children:"Manage"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Tax"})]})}),Object(a.jsxs)("div",{className:"col-6 blue-box-div tax-div d-inline-block",children:[Object(a.jsx)("label",{className:"pr-2",children:"Tax"}),Object(a.jsx)("input",{type:"number",className:"form-control d-inline-block",onChange:this.handleFormChange.bind(this,"tax")}),Object(a.jsx)("label",{className:"pl-2",children:"%"}),Object(a.jsx)("button",{type:"button",className:"btn btn-info btn-sm float-right mr-4",onClick:function(){return e.saveTaxUpdate()},children:"Update"})]})]})}},{key:"renderInspectionList",value:function(){var e=this;return Object(a.jsxs)("div",{className:"col admin-list-page",children:[Object(a.jsxs)("div",{className:"list-group-header section-header row",children:[Object(a.jsxs)("div",{className:"col-6",children:[Object(a.jsx)("span",{className:"mb-1 underline",children:"Manage"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Inspection"})]}),Object(a.jsxs)("div",{className:"col-6 text-right inspection-btngrp pt-2",children:[Object(a.jsx)("button",{className:"btn delete-btn",onClick:function(){return e.deleteInspection()}}),Object(a.jsx)("button",{className:"btn edit-btn",onClick:function(){return e.editInspection()}}),Object(a.jsx)("button",{className:"btn add-btn",onClick:function(){return e.addInspection()}})]})]}),Object(a.jsxs)("div",{className:"quote-req-list ",children:[Object(a.jsxs)("div",{className:"row mt-1 quote-req-header",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Inspection Name"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Inspection Desc"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Inspection Cost"})})]}),Object(a.jsx)("div",{className:"quote-req-table",children:this.state.listitems&&this.state.listitems.map((function(t){return Object(a.jsxs)("div",{className:"row mt-1",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsxs)("label",{className:"btn btn-default blue projectname-truncate text-truncate",children:[Object(a.jsx)("input",{type:"radio",className:"toggle",name:"quoteItem",value:t.id,onChange:function(){return e.onInspectionSelected(t)}}),t.name]})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{className:"",children:t.desc})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{className:"",children:t.cost})})]},t.id)}))})]})]})}},{key:"render",value:function(){return Object(a.jsxs)(o.a.Fragment,{children:[!this.state.editInspectionPage&&this.renderInspectionList(),this.state.editInspectionPage&&this.renderEditInspection(),this.renderTax(),Object(a.jsx)(Y,{popupConfig:this.state.popupConfig,openFlag:this.state.isPopupOpen,parentCloseCallback:this.handleClose.bind(this),parentConfirmCallback:this.handleModalYes.bind(this)})]})}}]),s}(r.Component),_e=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(n.a)(this,s);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={pageName:1},e}return Object(c.a)(s,[{key:"switchPage",value:function(e){this.setState({pageName:e})}},{key:"render",value:function(){var e=this;return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(z,{}),Object(a.jsxs)("div",{className:"page-body row",children:[Object(a.jsx)(je,{onClick:this.switchPage.bind(this)}),function(){switch(e.state.pageName){case 1:return Object(a.jsx)(ve,{});case 2:return Object(a.jsx)(we,{});case 3:return Object(a.jsx)(Ce,{});case 4:return Object(a.jsx)(ge,{});case 5:return Object(a.jsx)(ye,{});case 6:return Object(a.jsx)(Pe,{});case 7:return Object(a.jsx)(qe,{});default:return Object(a.jsx)(ve,{})}}()]}),Object(a.jsx)($,{})]})}}]),s}(o.a.Component),Ae=s(156),Ee=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).state={searchValue:"",listitems:Ae.operationsList,selectedItem:[],editOperationPage:!1},a.parentCallback=function(){a.setState({selectedItem:[]}),a.setState({editOperationPage:!1})},a}return Object(c.a)(s,[{key:"getAllOperationList",value:function(){var e=this;T.getAllOperations().then((function(t){e.setState({listitems:t.data.operations})}),(function(e){console.log("Error")}))}},{key:"handleSearchChange",value:function(e){this.setState({searchValue:e.target.value.toLowerCase()})}},{key:"onOperationSelected",value:function(e){this.setState({selectedItem:e})}},{key:"renderOperationsList",value:function(){var e=this;return Object(a.jsxs)("div",{className:"col admin-list-page",id:"operations-page",children:[Object(a.jsxs)("div",{className:"list-group-header section-header row",children:[Object(a.jsxs)("div",{className:"col-4",children:[Object(a.jsx)("span",{className:"mb-1 underline",children:"Manage"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Operations"})]}),Object(a.jsx)("div",{className:"col-8 text-right",children:Object(a.jsxs)("div",{className:"has-search",children:[Object(a.jsx)("span",{className:"fa fa-search form-control-feedback"}),Object(a.jsx)("input",{type:"text",className:"form-control search-box",placeholder:"Search quote requests...",onChange:this.handleSearchChange.bind(this)})]})})]}),Object(a.jsxs)("div",{className:"quote-req-list",children:[Object(a.jsxs)("div",{className:"row mt-1 quote-req-header",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Operation Name"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Description"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Start Date"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"End Date"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Hours Commited"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Hours Left"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Status"})})]}),Object(a.jsx)("div",{className:"quote-req-table",children:this.state.listitems.filter((function(t){return t.o_name.toLowerCase().includes(e.state.searchValue)})).map((function(t){return Object(a.jsxs)("div",{className:"row mt-1",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsxs)("label",{className:"btn btn-default blue projectname-truncate text-truncate",children:[Object(a.jsx)("input",{type:"radio",className:"toggle",name:"operationItem",value:t.id,onChange:function(){return e.onOperationSelected(t)}}),t.o_name]})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{className:"description-truncate text-truncate",children:t.o_desc})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:t.createdAt})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:t.updatedAt})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:t.hoursCommited})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:t.hoursLeft})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:t.status})})]},t.id)}))})]})]})}},{key:"render",value:function(){return Object(a.jsx)(o.a.Fragment,{children:this.renderOperationsList()})}}]),s}(r.Component),De=s(157),Le=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).state={searchValue:"",listitems:De.projects,selectedItem:[],editProjectPage:!1},a.parentCallback=function(){a.setState({selectedItem:[]}),a.setState({editProjectPage:!1})},a}return Object(c.a)(s,[{key:"getAllProjectList",value:function(){var e=this;T.getAllProjects().then((function(t){e.setState({listitems:t.data.projects})}),(function(e){console.log("Error")}))}},{key:"handleSearchChange",value:function(e){this.setState({searchValue:e.target.value.toLowerCase()})}},{key:"onProjectSelected",value:function(e){this.setState({selectedItem:e})}},{key:"renderProjectList",value:function(){var e=this;return Object(a.jsxs)("div",{className:"col admin-list-page",id:"projects-page",children:[Object(a.jsxs)("div",{className:"list-group-header section-header row",children:[Object(a.jsxs)("div",{className:"col-4",children:[Object(a.jsx)("span",{className:"mb-1 underline",children:"Manage"}),Object(a.jsx)("span",{className:"mb-1 blue-color pl-2",children:"Projects"})]}),Object(a.jsx)("div",{className:"col-8 text-right",children:Object(a.jsxs)("div",{className:"has-search",children:[Object(a.jsx)("span",{className:"fa fa-search form-control-feedback"}),Object(a.jsx)("input",{type:"text",className:"form-control search-box",placeholder:"Search projects...",onChange:this.handleSearchChange.bind(this)})]})})]}),Object(a.jsxs)("div",{className:"quote-req-list",children:[Object(a.jsxs)("div",{className:"row mt-1 quote-req-header",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Project Name"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Description"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Hours Commited"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Hours Left"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Start Date"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"End Date"})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:"Status"})})]}),Object(a.jsx)("div",{className:"quote-req-table",children:this.state.listitems.filter((function(t){return t.p_name.toLowerCase().includes(e.state.searchValue)})).map((function(t){return Object(a.jsxs)("div",{className:"row mt-1",children:[Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsxs)("label",{className:"btn btn-default blue projectname-truncate text-truncate",children:[Object(a.jsx)("input",{type:"radio",className:"toggle",name:"projectItem",value:t.id,onChange:function(){return e.onProjectSelected(t)}}),t.p_name]})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{className:"description-truncate text-truncate",children:t.p_desc})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:t.hours_commited})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:t.hours_left})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:new Date(t.start_date).toLocaleDateString()})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{children:new Date(t.end_date).toLocaleDateString()})}),Object(a.jsx)("div",{className:"col-sm",children:Object(a.jsx)("label",{className:"badge "+pe(t.p_status),children:t.p_status})})]},t.id)}))})]})]})}},{key:"render",value:function(){return Object(a.jsx)(o.a.Fragment,{children:this.renderProjectList()})}}]),s}(r.Component),Me=s(383),Qe=s(123),Te=s(379),We=s(380),Fe=s(381),Re=s(382),Ve=s(386),Ue=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).state={},a}return Object(c.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"col admin-list-page",id:"operations-page",children:Object(a.jsx)(Me.a,{children:Object(a.jsx)(Qe.b,{services:[Te.a,We.a,Fe.a,Re.a,Ve.a]})})})}}]),s}(r.Component),Be=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(n.a)(this,s);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={pageName:1},e}return Object(c.a)(s,[{key:"switchPage",value:function(e){this.setState({pageName:e})}},{key:"render",value:function(){var e=this;return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(z,{}),Object(a.jsxs)("div",{className:"page-body row",children:[Object(a.jsx)(je,{onClick:this.switchPage.bind(this)}),function(){switch(e.state.pageName){case 1:return Object(a.jsx)(Le,{});case 2:return Object(a.jsx)(Ee,{});case 3:default:return Object(a.jsx)(Ue,{})}}()]}),Object(a.jsx)($,{})]})}}]),s}(o.a.Component),Ye=s(158),He=s(25),Je=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(){return Object(n.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(a.jsx)(o.a.Fragment,{children:Object(a.jsx)(Ye.a,{children:Object(a.jsxs)("div",{className:"container-fluid page-container",children:[Object(a.jsx)(He.c,{children:Object(a.jsx)(He.a,{exact:!0,path:"/",component:K})}),Object(a.jsx)(He.c,{children:Object(a.jsx)(He.a,{path:"/Dashboard",component:ue})}),Object(a.jsx)(He.c,{children:Object(a.jsx)(He.a,{path:"/AdminDashboard",component:_e})}),Object(a.jsx)(He.c,{children:Object(a.jsx)(He.a,{path:"/WorkerDashboard",component:Be})})]})})})}}]),s}(r.Component),Ke=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,387)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;s(e),a(e),n(e),c(e),i(e)}))},Ze=(s(350),s(351),function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(){return Object(n.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(a.jsx)(Je,{})}}]),s}(o.a.Component));h.a.render(Object(a.jsx)(Ze,{}),document.getElementById("root")),Ke()}},[[353,1,2]]]);
//# sourceMappingURL=main.e25c8981.chunk.js.map